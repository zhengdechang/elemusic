(function(t){function s(s){for(var i,n,r=s[0],l=s[1],c=s[2],d=0,u=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&u.push(a[n][0]),a[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);m&&m(s);while(u.length)u.shift()();return o.push.apply(o,c||[]),e()}function e(){for(var t,s=0;s<o.length;s++){for(var e=o[s],i=!0,r=1;r<e.length;r++){var l=e[r];0!==a[l]&&(i=!1)}i&&(o.splice(s--,1),t=n(n.s=e[0]))}return t}var i={},a={app:0},o=[];function n(s){if(i[s])return i[s].exports;var e=i[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=i,n.d=function(t,s,e){n.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,s){if(1&s&&(t=n(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var i in t)n.d(e,i,function(s){return t[s]}.bind(null,i));return e},n.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(s,"a",s),s},n.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=s,r=r.slice();for(var c=0;c<r.length;c++)s(r[c]);var m=l;o.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"015f":function(t,s,e){"use strict";e("f1d2")},"0284":function(t,s,e){"use strict";e("40cf")},"0612":function(t,s,e){"use strict";e("c54c")},"09b8":function(t,s,e){"use strict";e("1625")},1:function(t,s){},1048:function(t,s,e){},"119e":function(t,s,e){},"144b":function(t,s,e){},"14c4":function(t,s,e){"use strict";e("2c10")},1625:function(t,s,e){},"16b5":function(t,s,e){},"194f":function(t,s,e){},"1be9":function(t,s,e){},"1bee":function(t,s,e){},"1c05":function(t,s,e){},"1ece":function(t,s,e){"use strict";e("144b")},"2c10":function(t,s,e){},"2db3":function(t,s,e){},"37d9":function(t,s,e){},"383b":function(t,s,e){"use strict";e("4b25")},"3a10":function(t,s,e){"use strict";e("48d5")},"3b3b":function(t,s,e){},"3c5a":function(t,s,e){},"40cf":function(t,s,e){},"43db":function(t,s,e){},"45c9":function(t,s,e){"use strict";e("9539")},4678:function(t,s,e){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var s=o(t);return e(s)}function o(t){if(!e.o(i,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=o,t.exports=a,a.id="4678"},4706:function(t,s,e){"use strict";e("c3c7")},"47b9":function(t,s,e){"use strict";e("ae01")},"47ff":function(t,s,e){"use strict";e("d858")},"48d5":function(t,s,e){},"4b25":function(t,s,e){},"521c":function(t,s,e){},"56d7":function(t,s,e){"use strict";e.r(s);var i=e("2b0e"),a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"container",attrs:{id:"app"}},[s("song-audio"),s("the-header"),s("div",{staticClass:"layout"},[s("keep-alive",[s("router-view")],1)],1),s("song-audio"),s("the-aside"),s("div",{staticClass:"play-bar"},[s("play-bar")],1),s("scroll-top"),s("the-footer")],1)},o=[],n=function(){var t=this,s=t._self._c;return s("div",{staticClass:"the-header"},["首页"!=t.activeName?s("i",{staticClass:"iconfont iconfont-back icon-fanhui",on:{click:function(s){return t.back()}}}):t._e(),s("div",{staticClass:"header-logo",on:{click:t.goHome}},[t._m(0),s("span",{staticClass:"title-text"},[t._v("EleMusic")])]),s("ul",{staticClass:"navbar"},[t._l(t.navMsg,(function(e){return s("li",{key:e.path,class:{active:e.name==t.activeName},on:{click:function(s){return t.goPage(e.path,e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),s("li",[s("span",{staticClass:"search",on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.search.apply(null,arguments)}}},[s("el-popover",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],ref:"popover",attrs:{width:"200",placement:"bottom-end",trigger:"manual"},model:{value:t.isShowSearch,callback:function(s){t.isShowSearch=s},expression:"isShowSearch"}},[s("el-input",{staticClass:"keyVal",attrs:{slot:"reference",placeholder:"请输入歌名、歌词、歌手或专辑",clearable:""},on:{focus:t.handleFocus,input:t.handleInput},slot:"reference",model:{value:t.keyVal,callback:function(s){t.keyVal=s},expression:"keyVal"}}),[t.keyVal?s("div",{staticClass:"search-key-list"},t._l(t.suggestInfo.order,(function(e,i){return s("div",{key:i,staticClass:"search-item"},[s("h6",[t._v(t._s(t.listType[e]))]),s("div",{staticClass:"item-main"},t._l(t.suggestInfo[e],(function(i,a){return s("div",{key:a,staticClass:"list",on:{click:function(s){return t.jumpPage(i,e)}}},[t._v(" "+t._s(i.name)+" "),"songs"===e?[t._v(" -"),t._l(i.artists,(function(e,i){return s("span",{key:i},[t._v(t._s(e.name+(0!==i?" / ":"")))])}))]:"albums"===e?[t._v(" -"),s("span",[t._v(t._s(i.artist.name))])]:t._e()],2)})),0)])})),0):s("div",{staticClass:"hot-search"},[s("h5",[t._v("热门搜索")]),s("div",{staticClass:"hot-search-list"},t._l(t.serachHot,(function(e,i){return s("div",{key:i,staticClass:"hot-item",on:{click:function(s){return t.jumpSearch(e)}}},[s("span",{class:[i<3?"top-"+i:""]},[t._v(t._s(i+1+"."))]),t._v(" "+t._s(e.first)+" ")])})),0)])]],2),s("i",{staticClass:"iconfont icon-soushuo",on:{click:t.search}})],1)]),t._l(t.loginMsg,(function(e){return s("li",{directives:[{name:"show",rawName:"v-show",value:!t.loginIn,expression:"!loginIn"}],key:e.path,class:{active:e.name==t.activeName},on:{click:function(s){return t.goPage(e.path,e.name)}}},[t._v(" "+t._s(e.name)+" ")])}))],2),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loginIn,expression:"loginIn"}],staticClass:"header-right"},[s("div",{attrs:{id:"user"}},[s("img",{attrs:{src:t.attachImageUrl(this.avator),alt:""}})]),s("ul",{staticClass:"menu"},t._l(t.menuList,(function(e,i){return s("li",{key:i,on:{click:function(s){return t.goMenuList(e.path)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])])},r=[function(){var t=this,s=t._self._c;return s("i",[s("img",{staticClass:"icon",attrs:{src:e("d8a1"),alt:""}})])}],l=(e("14d9"),e("2f62"));const c=[{name:"首页",path:"/"},{name:"排行榜",path:"/rank"},{name:"歌单",path:"/song-list"},{name:"MV",path:"/mv-page"},{name:"歌手",path:"/singer"},{name:"我的音乐",path:"/my"}],m=[{name:"登录",path:"/login-in"},{name:"注册",path:"/sign-up"}],d=[{name:"设置",path:"/setting"},{name:"退出",path:0}];var u=e("bc3a"),h=e.n(u),p=e("8c4f"),g=function(){var t=this,s=t._self._c;return s("div",{staticClass:"home"},[s("swiper"),s("div",{staticClass:"album_list"},[s("div",{staticClass:"h_title"},[s("h3",[t._v("新碟上架")]),t._l(t.album_area,(function(e,i){return s("span",{key:e.id,staticClass:"hover",class:i==t.album_index?"active":"",on:{click:function(s){return t.chooseAlbumType(i)}}},[t._v(t._s(e.name))])}))],2),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"album_list"},[s("AlbumList",{attrs:{albumList:t.album_list}})],1)])]),s("div",{staticClass:"top_list"},[t._m(0),s("IndexRank")],1),s("div",{staticClass:"mv_list"},[s("div",{staticClass:"h_title"},[s("h3",[t._v("最新MV")]),t._l(t.mv_area,(function(e,i){return s("span",{key:e.id,staticClass:"hover",class:i==t.mv_index?"active":"",on:{click:function(s){return t.chooseMvType(i)}}},[t._v(t._s(e))])}))],2),s("div",{staticClass:"wrapper"},[s("MvList",{staticClass:"loadMv",attrs:{mvList:t.mv_list}})],1)]),s("div",{staticClass:"recom_list"},[s("div",{staticClass:"h_title"},[s("h3",[t._v("热门歌单")]),t._l(t.playlist_tags,(function(e,i){return s("span",{key:e.id,staticClass:"hover",class:i==t.playlist_index?"active":"",on:{click:function(s){return t.choosePlayListType(i)}}},[t._v(t._s(e.name))])}))],2),s("div",{staticClass:"wrapper"},[s("play-list",{attrs:{playList:t.playlist_list}})],1)]),s("div",{staticClass:"artists_list"},[t._m(1),s("div",[s("IndexSInger",{attrs:{artists_list:t.artists_list}})],1)])],1)},v=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"h_title"},[s("h3",[t._v("排行榜")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"h_title"},[s("h3",[t._v("热门歌手")])])}],f=function(){var t=this,s=t._self._c;return s("div",{staticClass:"swiper"},[s("el-carousel",{attrs:{interval:4e3,type:"card",height:"280px"}},t._l(t.banners,(function(e,i){return s("el-carousel-item",{key:i},[s("div",{staticClass:"img",on:{click:function(s){return t.pathHandler(e)}}},[s("img",{attrs:{src:e.imageUrl}})])])})),1)],1)},y=[],b={name:"Swiper",data(){return{banners:{}}},created(){this.getBanner()},methods:{getBanner(){yi().then(t=>{if(200!==t.code)return this.$message.error("数据请求失败");this.banners=t.banners}).catch(t=>{console.log(t)})},pathHandler(t){switch(t.targetType){case 1:this.$router.push({path:"/song",query:{id:t.targetId}});break;case 10:this.$router.push({path:"/album",query:{id:t.targetId}});break;case 1e3:this.$router.push({path:"/playlist",query:{id:t.targetId}});break;case 1004:this.$router.push({path:"/mv",query:{id:t.targetId}});break;case 3e3:window.open(t.url,"_blank");break}}}},_=b,C=(e("d7ca"),e("0c7c")),A=Object(C["a"])(_,f,y,!1,null,"9b9ea0e0",null),k=A.exports,I=function(){var t=this,s=t._self._c;return s("div",{staticClass:"playlist"},t._l(t.playList,(function(e,i){return s("div",{key:i,staticClass:"item"},[s("router-link",{staticClass:"faceImg",attrs:{to:{path:"song-list/detail",query:{id:e.id}}}},[s("el-image",{attrs:{src:e.coverImgUrl,lazy:""}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])]),s("span",{staticClass:"playCount"},[s("i",{staticClass:"iconfont icon-playnum"}),s("em",[t._v(t._s(t.dealNum(e.playCount)))])])],1),s("div",{staticClass:"info"},[s("router-link",{staticClass:"info_name hover",attrs:{to:{path:"song-list/detail",query:{id:e.id}}}},[t._v(t._s(e.name)+" ")]),s("div",{staticClass:"tags"},t._l(e.tags,(function(e,i){return s("router-link",{key:i,staticClass:"tag",attrs:{to:{path:"/song-list",query:{cat:e}}}},[t._v("#"+t._s(e)+" ")])})),1)],1)],1)})),0)},S=[],$={components:{},props:["playList"],data(){return{}},created(){},computed:{},methods:{dealNum(t){let s=0;return s=t>9999?Math.round(t/1e4*10)/10+"万":t,s}}},L=$,w=(e("e341"),Object(C["a"])(L,I,S,!1,null,"51c24959",null)),x=w.exports,j=function(){var t=this,s=t._self._c;return s("div",{staticClass:"album"},t._l(t.albumList,(function(e){return s("router-link",{key:e.id,staticClass:"item",attrs:{to:{path:"/album",query:{id:e.id}}}},[s("div",{staticClass:"faceImg"},[s("el-image",{attrs:{src:e.picUrl+"?param=120y120"}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"info"},[s("div",{staticClass:"album-type"},[t._v(t._s(e.type))]),e.name?s("div",{staticClass:"album-name"},[t._v(t._s(e.name))]):t._e(),e.artist?s("div",{staticClass:"artist-name"},[t._v(t._s(e.artist.name))]):t._e()])])})),1)},O=[],T={components:{},props:["albumList"],data(){return{}},computed:{},methods:{}},P=T,M=(e("ddeb"),Object(C["a"])(P,j,O,!1,null,"675a3060",null)),N=M.exports,q=function(){var t=this,s=t._self._c;return s("div",{staticClass:"mv-list"},t._l(t.mvList,(function(e,i){return s("div",{key:""+e.id+i,staticClass:"item"},[s("router-link",{staticClass:"faceImg",attrs:{to:{path:"/mv",query:{id:e.id}}}},[s("i",{staticClass:"iconfont icon-play"}),s("el-image",{attrs:{src:e.cover||e.imgurl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"info"},[s("router-link",{staticClass:"mv-name",attrs:{to:{path:"/mv",query:{id:e.id}}}},[t._v(t._s(e.name))]),e.publishTime?t._e():s("router-link",{staticClass:"mv-author",attrs:{to:{path:"/artist",query:{id:e.artistId}}}},[t._v(t._s(e.artistName))]),s("div",{staticClass:"mv-playCount"},[s("i",{staticClass:"iconfont icon-video"}),t._v(" "+t._s(t.formartNum(e.playCount)))]),e.publishTime?s("div",{staticClass:"mv-time"},[t._v("发布时间："+t._s(e.publishTime))]):t._e()],1)],1)})),0)},U=[],D={components:{},props:["mvList"],data(){return{}},computed:{},methods:{formartNum(t){let s=0;return s=t>9999?Math.round(t/1e4*10)/10+"万":t,s}}},F=D,z=(e("383b"),Object(C["a"])(F,q,U,!1,null,"67f0e5a6",null)),J=z.exports,H=function(){var t=this,s=t._self._c;return s("el-row",{staticClass:"wrapper",attrs:{gutter:20}},t._l(t.top_list,(function(e){return s("el-col",{key:e.id,staticClass:"toplist_item hover",attrs:{span:6}},[s("div",{staticClass:"coverImg"},[s("el-image",{staticClass:"toplist_img",attrs:{src:e.coverImgUrl}})],1),s("div",{staticClass:"toplist_wrapper"},[s("h4",{staticClass:"toplist_hd"},[t._v(t._s(e.name))]),s("div",{staticClass:"toplist_songlist"},t._l(t.songList[e.id],(function(e,i){return s("div",{key:e.id,staticClass:"songitem"},[s("div",{staticClass:"songnum"},[t._v(t._s(i+1))]),s("div",{staticClass:"songinfo"},[s("router-link",{staticClass:"song_title",attrs:{to:{path:"/song",query:{id:e.id}}}},[t._v(t._s(e.name))]),s("div",{staticClass:"song_author"},t._l(e.ar,(function(e,i){return s("router-link",{key:i,staticClass:"song_name",attrs:{to:{path:"/artist",query:{id:e.id}}}},[t._v(t._s(0!==i?"/ "+e.name:e.name))])})),1)],1)])})),0)])])})),1)},E=[],V={name:"IndexRank",data(){return{top_list:[],songList:{}}},created(){this.getToplist()},methods:{getToplist(){qi().then(t=>{this.top_list=t.list.splice(0,4),this.top_list.forEach(t=>{Ui({id:t.id}).then(s=>{this.$set(this.songList,t.id,s.playlist.tracks.splice(0,6))})})})}}},B=V,R=(e("47b9"),Object(C["a"])(B,H,E,!1,null,"50f190b4",null)),Y=R.exports,X=function(){var t=this,s=t._self._c;return s("div",{staticClass:"wrapper-singer"},t._l(t.artists_list,(function(e){return s("router-link",{key:e.id,staticClass:"artists_item hover",attrs:{to:{path:"/artist",query:{id:e.id}}}},[s("div",{staticClass:"faceImg"},[s("el-image",{attrs:{src:e.picUrl+"?param=120y120"}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"info"},[s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"albumSize"},[t._v("专辑："+t._s(e.albumSize))])])])})),1)},K=[],Q={name:"IndexSInger",props:["artists_list"]},Z=Q,G=(e("59f2"),Object(C["a"])(Z,X,K,!1,null,"3e5e3e0c",null)),W=G.exports,tt={name:"Homes",components:{IndexSInger:W,IndexRank:Y,MvList:J,AlbumList:N,playList:x,Swiper:k},data(){return{playlist_tags:[],playlist_list:[],playlist_index:0,playlist_params:{limit:5,offset:0},album_area:[{name:"全部",code:"all"},{name:"华语",code:"zh"},{name:"欧美",code:"ea"},{name:"韩国",code:"kr"},{name:"日本",code:"jp"}],album_index:0,album_list:[],album_params:{limit:9},top_list:[],songList:{},mv_area:["全部","内地","港台","欧美","日本","韩国"],mv_list:[],mv_index:0,mv_params:{limit:5},artists_list:[],artists_params:{limit:9}}},activated(){this.$store.commit("setActiveName","首页")},created(){this.chooseAlbumType("0"),this.chooseMvType("全部"),this.mv_index=0,this.$store.commit("setActiveName","首页")},mounted(){this.init()},methods:{getHotTags(){Si().then(t=>{if(200!==t.code)return this.$message.error("歌单分类数据请求失败");t.tags.unshift({name:"为您推荐"}),this.playlist_tags=t.tags.splice(0,6)})},getPlayList(t){$i(t).then(t=>{if(200!==t.code)return this.$message.error("分类歌单数据请求失败");this.playlist_list=t.playlists})},choosePlayListType(t){this.playlist_index=t,this.playlist_params.cat=0!==t?this.playlist_tags[t].name:"",this.getPlayList(this.playlist_params)},getAlbum(t){Ei(t).then(t=>{if(200!==t.code)return this.$message.error("新碟上架数据请求失败");t.monthData.length==[]?this.album_list=t.weekData.slice(0,9):this.album_list=t.monthData.slice(0,9)})},chooseAlbumType(t){this.album_index=t,this.album_params.area=0!==t?this.album_area[t].code:"all",this.getAlbum(this.album_params)},getMv(t){Gi(t).then(t=>{if(200!==t.code)return this.$message.error("最新MV数据请求失败");this.mv_list=t.data})},chooseMvType(t){this.mv_index=t,this.mv_params.area=0!==t?this.mv_area[t]:"",this.getMv(this.mv_params)},getArtists(t){Ni(t).then(t=>{if(200!==t.code)return this.$message.error("热门歌手数据请求失败");this.artists_list=t.artists})},init(){this.getHotTags(),this.getPlayList(this.playlist_params),this.getArtists(this.artists_params)}}},st=tt,et=(e("3a10"),Object(C["a"])(st,g,v,!1,null,"43b15a5f",null)),it=et.exports,at=function(){var t=this,s=t._self._c;return s("div",{staticClass:"song-list"},[s("div",{staticClass:"w1200"},[s("div",{staticClass:"filter"},t._l(t.categories,(function(e,i){return s("div",{key:i,staticClass:"filter-item"},[s("div",{staticClass:"filter-title"},[t._v(t._s(e.name))]),s("div",{staticClass:"filter-box"},[t._l(e.children.slice(0,8),(function(e){return s("span",{key:e.name,class:["item-box",t.curType===e.name?"active":""]},[s("em",{on:{click:function(s){return t.selectType(e)}}},[t._v(t._s(e.name))])])})),s("el-popover",{attrs:{trigger:"click"}},[e.children.length>9?s("span",{class:["item-box","filter-more",t.moreTxt[i]?"active":""],attrs:{slot:"reference"},slot:"reference"},[s("em",[t._v(t._s(t.moreTxt[i]?t.curType:"更多")),s("i",{staticClass:"iconfont icon-arrow"})])]):t._e(),s("div",{staticClass:"filter-drop"},t._l(e.children.slice(9),(function(e){return s("span",{key:e.name,class:["item-box",t.curType===e.name?"active":""]},[s("em",{on:{click:function(s){return t.selectType(e,i)}}},[t._v(t._s(e.name))])])})),0)])],2)])})),0),s("div",{staticClass:"list-container"},[s("div",{staticClass:"list-head"},[s("h2",[t._v(t._s(t.curType)+" "),t.curType!==t.allList.name?s("em",{staticClass:"filter-close",on:{click:t.closed}},[s("i",{staticClass:"iconfont icon-closed"})]):t._e()]),s("div",{staticClass:"type"},[s("span",{class:"hot"===t.params.order?"active":"",on:{click:function(s){return t.selectOrder("hot")}}},[t._v("热门")]),s("span",{class:"new"===t.params.order?"active":"",on:{click:function(s){return t.selectOrder("new")}}},[t._v("最新")])])]),s("songlist",{attrs:{params:t.params,isScroll:!0}})],1)])])},ot=[],nt=function(){var t=this,s=t._self._c;return s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"wrapper infinite-list",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"50"}},[s("play-list",{attrs:{playList:t.pageList}}),t.isLoading?[s("Loading")]:t._e()],2)},rt=[],lt=function(){var t=this;t._self._c;return t._m(0)},ct=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"loading"},[s("div",{staticClass:"loader"})])}],mt={components:{},data(){return{}},computed:{},methods:{}},dt=mt,ut=(e("c9ec"),Object(C["a"])(dt,lt,ct,!1,null,"75a2e57e",null)),ht=ut.exports,pt={name:"songlist",components:{PlayList:x,Loading:ht},created(){this.getPlayList(this.params)},mounted(){this.pullup()},props:{params:{type:Object,default:()=>{}},isScroll:{type:Boolean,default:!1}},data(){return{list:[],isLoading:!1,busy:!0,page:0,pageList:[]}},computed:{},methods:{pullup(){document.addEventListener("scroll",()=>{let t=document.documentElement.scrollTop||document.body.scrollTop,s=document.documentElement.clientHeight||document.body.clientHeight,e=document.documentElement.offsetHeight||document.body.offsetHeight;console.log(t,s,e),e<=t+s+1&&(this.isLoading=!0,this.page++,this.pageList=[...this.pageList,...this.list.slice(20*this.page,20*(this.page+1))],this.isLoading=!1)})},getPlayList(t){Fi(t).then(t=>{if(200!==t.code)return this.$message.error("获取歌曲列表数据请求失败");this.list=0!==this.params.offset?[...this.list,...t.playlists]:t.playlists,this.pageList=this.list.slice(0,20*(this.page+1)),this.busy=this.list.length>=t.total,this.isLoading=!this.busy})},loadMore(){this.isScroll&&(this.busy=!0,this.params.offset=this.list.length)}},watch:{params:{handler(t,s){t.cat!==s.cat&&(this.page=0,this.list=[]),this.getPlayList(t)},deep:!0}}},gt=pt,vt=(e("0612"),Object(C["a"])(gt,nt,rt,!1,null,"ea7883d2",null)),ft=vt.exports,yt={name:"song-list",components:{songlist:ft},activated(){this.$store.commit("setActiveName","歌单")},created(){this.params.cat=this.$route.query.cat,this.getCatlist(),this.$store.commit("setActiveName","歌单")},data(){return{sub:[],categories:[],curType:"",moreTxt:{},allList:{},params:{order:"hot",order:"hot",cat:"",limit:50,offset:0}}},computed:{},methods:{getCatlist(){Di().then(t=>{if(this.sub=t.sub,200!==t.code)return this.$message.error("获取所点击类型的歌单数据请求失败");for(const s in t.categories){const e={name:t.categories[s]};e.children=this.sub.filter(t=>t.category===Number(s)),this.categories.push(e)}this.curType=this.$route.query.cat?this.$route.query.cat:t.all.name,this.allList=t.all,this.getMoreTxt()})},selectType(t){this.$router.push({path:"song-list",query:{cat:t.name,order:this.params.order}})},closed(){this.$router.push({path:"song-list"})},selectOrder(t){this.$router.push({path:"song-list",query:{cat:this.params.cat,order:t}})},getMoreTxt(){const t=this.sub.find(t=>t.name===this.curType);if(this.moreTxt={},t){const s=this.categories[t.category].children.indexOf(t);s>=8&&(this.moreTxt[t.category]=t)}}},watch:{$route(t,s){const{cat:e,order:i}=t.query;this.curType=e||this.allList.name,this.params=Object.assign({},{order:"hot",cat:"",limit:50,offset:0},{cat:e||"",order:i||"hot"}),this.getMoreTxt()}}},bt=yt,_t=(e("8fb9"),Object(C["a"])(bt,at,ot,!1,null,"82382f26",null)),Ct=_t.exports,At=function(){var t=this,s=t._self._c;return s("div",{staticClass:"singer"},[s("div",{staticClass:"w1200"},[s("div",{staticClass:"filter"},[s("div",{staticClass:"filter-item"},t._l(t.initial,(function(e,i){return s("span",{key:i,staticClass:"hover",class:i===t.initialIndex?"active":"",on:{click:function(s){return t.selectType("initial",i)}}},[t._v(t._s(e.label))])})),0),s("div",{staticClass:"filter-item"},t._l(t.area,(function(e,i){return s("span",{key:i,staticClass:"hover",class:i===t.areaIndex?"active":"",on:{click:function(s){return t.selectType("area",i)}}},[t._v(t._s(e.label))])})),0),s("div",{staticClass:"filter-item"},t._l(t.type,(function(e,i){return s("span",{key:i,staticClass:"hover",class:i===t.typeIndex?"active":"",on:{click:function(s){return t.selectType("type",i)}}},[t._v(t._s(e.label))])})),0)]),s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list-container"},t._l(t.pageList,(function(e){return s("router-link",{key:e.id,staticClass:"item",attrs:{to:{path:"/artist",query:{id:e.id}}}},[s("div",{staticClass:"faceImg"},[s("el-image",{attrs:{src:e.picUrl+"?param=120y120"}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"info hover"},[s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"albumSize"},[t._v("专辑："+t._s(e.albumSize))])])])})),1),t.isLoading?[s("Loading")]:t._e()],2)])},kt=[],It={name:"Singer",components:{Loading:ht},data(){return{type:[{label:"全部",val:-1},{label:"男歌手",val:1},{label:"女歌手",val:2},{label:"乐队",val:3}],area:[{label:"全部",val:-1},{label:"华语",val:7},{label:"欧美",val:96},{label:"日本",val:8},{label:"韩国",val:16},{label:"其他",val:0}],initial:[{label:"热门",val:-1},{label:"#",val:0}],typeIndex:0,areaIndex:0,initialIndex:0,params:{area:"",type:"",initial:"",limit:30,offset:0},list:[],isLoading:!0,isLoadMv:!0,page:0,pageList:[]}},activated(){this.$store.commit("setActiveName","歌手")},created(){this.$store.commit("setActiveName","歌手")},computed:{},mounted(){this.params.area=this.area[this.areaIndex].val,this.params.type=this.type[this.typeIndex].val,this.params.initial=this.initial[this.initialIndex].val,this.renderInitial(),this.pullup()},methods:{renderInitial(){const t=[];for(let s=0;s<26;s++)t.push({label:String.fromCharCode(65+s),val:String.fromCharCode(97+s)});this.initial=[this.initial[0],...t,this.initial[1]]},selectType(t,s){this[t+"Index"]=s,this.page=0,this.list=[],this.params.offset=0,this.params[t]=this[t][s].val},getArtist(t){zi(t).then(t=>{if(200!==t.code)return this.$message.error("获取歌手列表数据请求失败");this.list=0!==this.params.offset?[...this.list,...t.artists]:t.artists,this.pageList=this.list.slice(0,30*(this.page+1)),this.isLoadMv=!t.more,this.isLoading=t.more})},pullup(){document.addEventListener("scroll",()=>{let t=document.documentElement.scrollTop||document.body.scrollTop,s=document.documentElement.clientHeight||document.body.clientHeight,e=document.documentElement.offsetHeight||document.body.offsetHeight;console.log(t,s,e),e<=t+s+1&&(this.isLoading=!0,this.page++,this.pageList=[...this.pageList,...this.list.slice(30*this.page,30*(this.page+1))],this.isLoading=!1)})},loadMore(){this.isLoadMv=!0,this.params.offset=this.list.length}},watch:{params:{handler(t){this.getArtist(t)},deep:!0}}},St=It,$t=(e("14c4"),Object(C["a"])(St,At,kt,!1,null,"b6d7c7f4",null)),Lt=$t.exports,wt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"my-music"},[s("div",{staticClass:"cover"},[s("div",{staticClass:"cover-img"},[s("el-image",{attrs:{src:t.baseUrl+t.userId}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"cover-info"},[s("div",{staticClass:"cover-title"},[t._v(" 收藏的歌曲 ")]),s("div",{staticClass:"cover-author"},[s("el-image",{staticClass:"cover-avatar",attrs:{src:t.baseUrl+t.userId}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])]),s("div",{staticClass:"cover-name"},[t._v(t._s(t.userInfo.username))]),s("div",{staticClass:"cover-date"},[t._v(t._s(t.format(t.time,"YYYY-MM-DD")))])],1),t._m(0)])]),s("div",{staticClass:"song-header"},[s("h4",[t._v(t._s(this.list[t.type])+"列表 "),"song"==t.type?s("em",[t._v(t._s(t.total+"首歌"))]):t._e()]),s("span",{staticClass:"play-all",on:{click:t.playAllSongs}},[s("i",{staticClass:"iconfont icon-audio-play"}),t._v(" 播放全部")])]),t.isLoading?[s("Loading")]:[this.data&&"song"==t.type?s("album-content",{attrs:{songList:t.listOfSongs,stripe:!0}}):t._e(),"album"==t.type?s("play-list",{attrs:{playList:t.playlist_list,stripe:!0}}):t._e(),"artist"==t.type?s("div",{staticClass:"loadArtist",attrs:{stripe:"true"}},t._l(t.artist_list,(function(e){return s("router-link",{key:e.id,staticClass:"item",attrs:{to:{path:"/artist",query:{id:e.id}}}},[s("div",{staticClass:"faceImg"},[s("el-image",{attrs:{src:e.picUrl+"?param=120y120"}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"info"},[s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"albumSize"},[t._v("专辑："+t._s(e.albumSize))])])])})),1):t._e(),"collection"==t.type?s("AlbumList",{attrs:{albumList:t.album_list,stripe:!0}}):t._e(),"song"==t.type?s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.limit,total:t.total},on:{"current-change":t.currentChange}})],1):t._e()]],2)},xt=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"cover-digital"},[s("span",{staticClass:"cover-playCount"},[s("i",{staticClass:"iconfont icon-playnum"}),t._v(" 0次")]),s("span",{staticClass:"cover-collect"},[s("i",{staticClass:"iconfont icon-collect"}),t._v(" 0")]),s("span",{staticClass:"cover-comment"},[s("i",{staticClass:"iconfont icon-comment"}),t._v(" 6")])])}];const jt={computed:{...Object(l["b"])(["loginIn","userId","AsidePlayList"])},methods:{attachImageUrl(t){return t||"../assets/img/user.jpg"},getSong(){this.$route.query.keywords?pi(this.$route.query.keywords).then(t=>{t.length?(this.$store.commit("setListOfSongs",[]),console.log("您输入的内容为空")):(this.$store.commit("setListOfSongs",t.result.songs),console.log(t.result))}).catch(t=>{console.log(t)}):(this.$store.commit("setListOfSongs",[]),console.log("您输入的内容为空"))},toPlay(t,s,e,i,a,o){this.$store.commit("setId",t),this.getUrl(t),this.$store.commit("setPicUrl",s),this.$store.commit("setListIndex",e),this.$store.commit("setTitle",i),this.$store.commit("setArtist",a),this.getLyric(t),o&&(this.AsidePlayList.push(o),this.$store.commit("setAsidePlayList",this.unique(this.AsidePlayList))),this.loginIn&&da(this.userId).then(s=>{for(let e of s.data)if(e.tid==t){this.$store.commit("setIsActive",!0);break}})},getUrl(t){vi(t).then(t=>{this.$store.commit("setUrl",t.data[0].url)}).catch(t=>{console.log(t)})},getLyric(t){gi(t).then(t=>{this.$store.commit("setLyric",t.lrc.lyric)}).catch(t=>{console.log(t)})},unique(t){const s=t.map(t=>JSON.stringify(t)),e=[...new Set(s)],i=e.map(t=>JSON.parse(t));return i},format(t,s){return this.$moment(t).format(s||"YYYY-MM-DD hh-mm-ss")}}};var Ot=function(){var t=this,s=t._self._c;return s("div",{staticClass:"album-content"},[s("h1",{staticClass:"title"},[t._t("title"),s("hr")],2),s("ul",[t._m(0),t._l(t.songList,(function(e,i){return s("li",{key:i},[s("div",{staticClass:"song-item hover",on:{click:function(s){return t.goSong(e.id)}}},[s("span",{staticClass:"item-index"},[t._v(" "+t._s(i+1)+" ")]),s("span",{staticClass:"item-title"},[t._v(t._s(e.name))]),s("span",{staticClass:"item-name"},[t._v(t._s(e.ar[0].name))]),s("span",{staticClass:"item-intro"},[t._v(t._s(e.al.name))]),s("span",{staticClass:"item-duration"},[t._v(t._s(t.formatSongTime(e.dt)))]),s("div",{staticClass:"songlist-oper"},[s("i",{staticClass:"iconfont icon-play",attrs:{slot:"reference",title:"播放歌曲"},on:{click:function(s){return s.stopPropagation(),t.toPlay(e.id,e.al.picUrl,i,e.name,e.ar[0].name,e)}},slot:"reference"}),s("i",{staticClass:"iconfont icon-add-list",attrs:{slot:"reference",title:"添加到列表"},on:{click:function(s){return s.stopPropagation(),t.addList(e)}},slot:"reference"}),s("i",{staticClass:"iconfont icon-xiazai",attrs:{slot:"reference",title:"下载到本地"},on:{click:function(s){return s.stopPropagation(),t.download(e.id,e.name,e.ar[0].name)}},slot:"reference"})])])])}))],2)])},Tt=[function(){var t=this,s=t._self._c;return s("li",[s("div",{staticClass:"song-item"},[s("span",{staticClass:"item-index"}),s("span",{staticClass:"item-title"},[t._v("歌曲名")]),s("span",{staticClass:"item-name"},[t._v("歌手")]),s("span",{staticClass:"item-intro"},[t._v("专辑")]),s("span",{staticClass:"item-duration"},[t._v("时长")])])])}],Pt=(e("88a7"),e("271a"),e("5494"),{name:"AlbumContent",data(){return{singleIsActive:!1,data:[]}},created(){},mixins:[jt],props:["songList"],methods:{download(t,s,e){vi(t).then(t=>{const i=t.data[0].url;fi(i).then(t=>{let i=t.data,a=document.createElement("a");a.download=`${e}-${s}.mp3`,a.style.display="none";let o=new Blob([i]);a.href=URL.createObjectURL(o),document.body.appendChild(a),a.click(),document.body.removeChild(a)}).catch(t=>{console.log(t)})})},goSong(t){this.$router.push({path:"/song",query:{id:t}})},formatSongTime(t=0){t/=1e3;const s=(Math.floor(t/60)+"").padStart(2,"0"),e=(Math.floor(t%60)+"").padStart(2,"0");return`${s}:${e}`},addList(t){this.AsidePlayList.push(t),this.$store.commit("setAsidePlayList",this.unique(this.AsidePlayList))}},computed:{...Object(l["b"])(["listOfSongs","isActive","userId","loginIn","AsidePlayList"])}}),Mt=Pt,Nt=(e("5821"),Object(C["a"])(Mt,Ot,Tt,!1,null,"4d2b12e6",null)),qt=Nt.exports,Ut={components:{AlbumContent:qt,Loading:ht,PlayList:x,AlbumList:N},mixins:[jt],data(){return{type:"song",limit:10,offset:2,details:{},songList:[],total:0,isLoading:!0,isShowDesc:!1,start:0,end:1,listSongs:"",data:[],baseUrl:"http://localhost:3001/admin/api/user/getImg/",userInfo:"",time:0,list:{song:"歌曲",album:"歌单",artist:"歌手",collection:"专辑"},ids:[],playlist_list:[],album_list:[],artist_list:[]}},created(){this.type=this.$route.query.type,this.getUserInfo()},computed:{...Object(l["b"])(["listOfSongs","userId"])},mounted(){},methods:{getUserInfo(){"song"==this.type?da(this.userId).then(t=>{this.data=t.data,this.userInfo=t.data[0].user_id,this.time=Number(t.data[0].time);for(let s=0;s<t.data.length;s++)this.ids.push(t.data[s].tid);Oi({ids:this.ids.join(","),timestamp:(new Date).valueOf()}).then(t=>{this.listSongs=t.songs,this.$store.commit("setListOfSongs",this.listSongs.slice(10*this.start,10*this.end)),this.total=t.songs.length})}):"album"==this.type?pa(this.userId).then(t=>{this.data=t.data,this.userInfo=t.data[0].user_id,this.time=Number(t.data[0].time),this.ids=[];for(let s=0;s<t.data.length;s++)this.ids.push(t.data[s].tid);for(let s=0;s<this.ids.length;s++)Li({id:this.ids[s]}).then(t=>{this.playlist_list.push(t.playlist)})}):"collection"==this.type?_a(this.userId).then(t=>{this.data=t.data,this.userInfo=t.data[0].user_id,this.time=Number(t.data[0].time),this.ids=[];for(let s=0;s<t.data.length;s++)this.ids.push(t.data[s].tid);for(let s=0;s<this.ids.length;s++)Ji({id:this.ids[s]}).then(t=>{this.album_list.push(t.album)})}):"artist"==this.type&&fa(this.userId).then(t=>{this.data=t.data,this.userInfo=t.data[0].user_id,this.time=Number(t.data[0].time),this.ids=[];for(let s=0;s<t.data.length;s++)this.ids.push(t.data[s].tid);for(let s=0;s<this.ids.length;s++)Mi({id:this.ids[s]}).then(t=>{this.artist_list.push(t.artist)})}),this.isLoading=!1},currentChange(t){this.start=t-1,this.end=t,this.$store.commit("setListOfSongs",this.listSongs.slice(10*this.start,10*this.end))},formartNum(t){let s=0;return s=t>9999?Math.round(t/1e4*10)/10+"万":t,s},playAllSongs(){const t=this.AsidePlayList.length,s=[...this.AsidePlayList,...this.listOfSongs];this.$store.commit("setAsidePlayList",this.unique(s)),this.toPlay(this.AsidePlayList[t].id,this.AsidePlayList[t].al.picUrl,t,this.AsidePlayList[t].name,this.AsidePlayList[t].ar[0].name)},showAllDesc(){this.details.description.length>88&&(this.isShowDesc=!this.isShowDesc)},_formatSongs(t){const s=[];return t.songs.map((s,e)=>{s.id&&(s.license=!t.privileges[e].cp)}),s}},watch:{$route(){this.type=this.$route.query.type,this.getUserInfo()}}},Dt=Ut,Ft=(e("0284"),Object(C["a"])(Dt,wt,xt,!1,null,"08dacef4",null)),zt=Ft.exports,Jt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"search"},[s("div",{staticClass:"search-hd"},[s("div",{staticClass:"w1200"},[s("div",{staticClass:"search-box",on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.jumpSearch(t.keyVal)}}},[s("el-popover",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],ref:"popover",attrs:{placement:"bottom-start",trigger:"manual",width:"626","visible-arrow":"false"},model:{value:t.isShowSearch,callback:function(s){t.isShowSearch=s},expression:"isShowSearch"}},[s("el-input",{staticClass:"search-inp",attrs:{slot:"reference",placeholder:"请输入歌名、歌词、歌手或专辑",clearable:""},on:{focus:t.getListHandle,input:t.getListHandle},slot:"reference",model:{value:t.keyVal,callback:function(s){t.keyVal=s},expression:"keyVal"}}),[s("div",{staticClass:"search-key-list"},t._l(t.suggestInfo.order,(function(e,i){return s("div",{key:i,staticClass:"search-item"},[s("h6",[t._v(t._s(t.listType[e]))]),s("div",{staticClass:"item-main"},t._l(t.suggestInfo[e],(function(i,a){return s("div",{key:a,staticClass:"list",on:{click:function(s){return t.jumpPage(i,e)}}},[t._v(" "+t._s(i.name)+" "),"songs"===e?[t._v(" -"),t._l(i.artists,(function(e,i){return s("span",{key:i},[t._v(t._s(e.name+(0!==i?" / ":"")))])}))]:"albums"===e?[t._v(" -"),s("span",[t._v(t._s(i.artist.name))])]:t._e()],2)})),0)])})),0)]],2),s("i",{staticClass:"iconfont icon-soushuo",on:{click:function(s){return t.jumpSearch(t.keyVal)}}}),t.history.length?s("div",{staticClass:"search-history"},[s("span",[t._v("历史搜索：")])]):t._e()],1)])]),s("div",{staticClass:"w1200"},[s("div",{staticClass:"search-main"},[s("div",{staticClass:"search-tab"},[s("h2",[t._v("搜索结果"),s("em",[t._v("("+t._s(t.searchInfo)+")")])]),s("div",{staticClass:"type"},[s("span",{class:"1"===t.type?"active":"",on:{click:function(s){return t.selectType("1")}}},[t._v("单曲")]),s("span",{class:"10"===t.type?"active":"",on:{click:function(s){return t.selectType("10")}}},[t._v("专辑")]),s("span",{class:"100"===t.type?"active":"",on:{click:function(s){return t.selectType("100")}}},[t._v("歌手")]),s("span",{class:"1000"===t.type?"active":"",on:{click:function(s){return t.selectType("1000")}}},[t._v("歌单")]),s("span",{class:"1004"===t.type?"active":"",on:{click:function(s){return t.selectType("1004")}}},[t._v("MV")])])]),s("div",{staticClass:"search-list"},["1"===t.type?s("album-content",{attrs:{songList:t.list,stripe:!0,offset:t.offset}},[s("template",{slot:"title"},[t._v("搜索列表")])],2):t._e(),"10"===t.type?s("album-list",{attrs:{albumList:t.list}}):t._e(),"100"===t.type?s("artist-list",{attrs:{artistList:t.list}}):t._e(),"1000"===t.type?s("play-list",{attrs:{playList:t.list}}):t._e(),"1004"===t.type?s("mv-list",{attrs:{mvList:t.list}}):t._e(),"1014"===t.type?s("video",{attrs:{videoList:t.list}}):t._e()],1),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"","current-page":t.currentpage,"page-size":t.limit,layout:"prev, pager, next",total:t.total},on:{"current-change":t.currentChange}})],1)])])])},Ht=[],Et=function(){var t=this,s=t._self._c;return s("div",{staticClass:"artist"},t._l(t.artistList,(function(e){return s("router-link",{key:e.id,staticClass:"item",attrs:{to:{path:"/artist",query:{id:e.id}}}},[s("div",{staticClass:"faceImg"},[s("el-image",{attrs:{src:e.picUrl+"?param=120y120"}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"info"},[s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"albumSize"},[t._v("专辑："+t._s(e.albumSize))])])])})),1)},Vt=[],Bt={components:{},props:["artistList"],data(){return{}},computed:{},methods:{}},Rt=Bt,Yt=(e("f561"),Object(C["a"])(Rt,Et,Vt,!1,null,"2200b920",null)),Xt=Yt.exports,Kt={name:"search",components:{ArtistList:Xt,PlayList:x,MvList:J,AlbumList:N,AlbumContent:qt},data(){return{keyVal:this.$route.query.key,suggestInfo:{},listType:{songs:"单曲",artists:"歌手",albums:"专辑",playlists:"歌单"},type:this.$route.query.type||"1",history:[],list:[],total:0,offset:0,limit:30,currentpage:0,isShowSearch:!1}},computed:{searchInfo(){const t={1:"首单曲",10:"张专辑",100:"个歌手",1e3:"个歌单",1002:"个用户",1004:"个MV",1014:"个视频",1018:"个"};return this.total+t[this.type]}},created(){this.$store.commit("setActiveName","")},mounted(){this.getSearchMatch()},methods:{getSearchSuggest(){ia({keywords:this.keyVal}).then(t=>{if(200!==t.code)return this.$message.error("获取搜索建议数据请求失败");this.suggestInfo=t.result})},getSearchMatch(){sa({keywords:this.keyVal,type:this.type,limit:this.limit,offset:this.offset}).then(t=>{if(200!==t.code)return this.$msg.error("热门搜索数据请求失败");"1"===this.type?(this.list=t.result.songs,this.total=t.result.songCount):"10"===this.type?(this.list=t.result.albums,this.total=t.result.albumCount):"100"===this.type?(this.list=t.result.artists,this.total=t.result.artistCount):"1000"===this.type?(this.list=t.result.playlists,this.total=t.result.playlistCount):"1004"===this.type?(this.list=t.result.mvs,this.total=t.result.mvCount):"1014"===this.type&&(this.list=t.result.videos,this.total=t.result.videoCount)})},jumpSearch(t){t&&(this.keyVal&&this.keyVal!==this.$route.query.key?(this.$router.push({path:"/search",query:{key:t,type:this.type}}),this.isShowSearch=!1):(this.list=[],this.getSearchMatch()))},jumpPage(t,s){switch(this.keyVal=t.name,s){case"songs":this.$router.push({path:"/song",query:{id:t.id}});break;case"artists":this.$router.push({path:"/artist",query:{id:t.id}});break;case"albums":this.$router.push({path:"/album",query:{id:t.id}});break;case"playlists":this.$router.push({path:"/song-list/detail",query:{id:t.id}});break}this.isShowSearch=!1},getListHandle(){this.keyVal?(this.suggestInfo={},this.getSearchSuggest(),this.isShowSearch=!0):this.isShowSearch=!1},handleClose(){this.isShowSearch=!1},selectType(t){this.type=t,this.offset=0,this.currentpage=0,this.$router.push({path:"/search",query:{key:this.keyVal,type:this.type}})},currentChange(t){this.offset=(t-1)*this.limit,this.currentpage=t,this.getSearchMatch()}},watch:{$route(t,s){this.keyVal=this.$route.query.key,this.type=this.$route.query.type||"1",this.getSearchMatch()}}},Qt=Kt,Zt=(e("5f80"),Object(C["a"])(Qt,Jt,Ht,!1,null,"ec8084c8",null)),Gt=Zt.exports,Wt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"song-lyric"},[s("h1",{staticClass:"lyric-title"},[t._v("歌词")]),t.lyr.length?s("ul",{key:"index",staticClass:"has-lyric"},t._l(t.lyr,(function(e,i){return s("li",{key:i},[t._v(" "+t._s(e.lyric)+" ")])})),0):s("div",{key:"no-lyric",staticClass:"no-lyric"},[s("span",[t._v("暂无歌词")])])])},ts=[],ss={name:"Lyric",mixins:[jt],data(){return{lyr:[]}},computed:{...Object(l["b"])(["curTime","id","lyric","listOfSongs","listIndex"])},created(){this.lyr=this.parseLyric(this.lyric),this.$store.commit("setActiveName","")},watch:{id(){gi(this.listOfSongs[this.listIndex].id).then(t=>{this.lyr=this.parseLyric(t.lrc.lyric)}).catch(t=>{console.log(t)})},curTime(){if(this.lyr.length>0)for(let t=0;t<this.lyr.length;t++)if(this.curTime>=this.lyr[t].time){for(let t=0;t<this.lyr.length;t++)document.querySelectorAll(".has-lyric li")[t].style.color="#000",document.querySelectorAll(".has-lyric li")[t].style.fontSize="15px";t>=0&&(document.querySelectorAll(".has-lyric li")[t].style.color="#4453bfcc",document.querySelectorAll(".has-lyric li")[t].style.fontSize="25px")}}},methods:{parseLyric(t){const s=/\n/,e=t.split(s),i=/\[\d{2}:\d{2}.\d{2,3}\]/,a=[];return e.forEach(t=>{if(""===t)return;const s={},e=t.match(i);s.lyric=""===t.split("]")[1].trim()?"":t.split("]")[1].trim(),s.time=e?this.formatLyricTime(e[0].slice(1,e[0].length-1)):0,s.uid=Math.random().toString().slice(-6),""===s.lyric?console.log("这一行没有歌词"):a.push(s)}),a},formatLyricTime(t){const s=/.*:/,e=/:.*\./,i=/\./,a=parseInt(t.match(s)[0].slice(0,2));let o=parseInt(t.match(e)[0].slice(1,3));const n=t.slice(t.match(i).index+1,t.match(i).index+3);return 0!==a&&(o+=60*a),Number(o+"."+n)}}},es=ss,is=(e("a99f"),Object(C["a"])(es,Wt,ts,!1,null,"44a43a96",null)),as=is.exports,os=function(){var t=this,s=t._self._c;return s("div",[s("login-logo"),s("div",{staticClass:"signUp"},[t._m(0),s("el-form",{ref:"registerForm",staticClass:"demo-ruleForm",attrs:{"label-width":"70px",rules:t.rules},model:{value:t.registerForm,callback:function(s){t.registerForm=s},expression:"registerForm"}},[s("el-form-item",{attrs:{prop:"username",label:"用户名"}},[s("el-input",{attrs:{placeholder:"用户名"},model:{value:t.registerForm.username,callback:function(s){t.$set(t.registerForm,"username",s)},expression:"registerForm.username"}})],1),s("el-form-item",{attrs:{prop:"password",label:"密码"}},[s("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:t.registerForm.password,callback:function(s){t.$set(t.registerForm,"password",s)},expression:"registerForm.password"}})],1),s("el-form-item",{attrs:{prop:"sex",label:"性别"}},[s("el-radio-group",{model:{value:t.registerForm.sex,callback:function(s){t.$set(t.registerForm,"sex",s)},expression:"registerForm.sex"}},[s("el-radio",{attrs:{label:0}},[t._v("女")]),s("el-radio",{attrs:{label:1}},[t._v("男")])],1)],1),s("el-form-item",{attrs:{prop:"phoneNum",label:"手机"}},[s("el-input",{attrs:{placeholder:"手机"},model:{value:t.registerForm.phoneNum,callback:function(s){t.$set(t.registerForm,"phoneNum",s)},expression:"registerForm.phoneNum"}})],1),s("el-form-item",{attrs:{prop:"email",label:"邮箱"}},[s("el-input",{attrs:{placeholder:"邮箱"},model:{value:t.registerForm.email,callback:function(s){t.$set(t.registerForm,"email",s)},expression:"registerForm.email"}})],1),s("el-form-item",{attrs:{prop:"birth",label:"生日"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"选择日期"},model:{value:t.registerForm.birth,callback:function(s){t.$set(t.registerForm,"birth",s)},expression:"registerForm.birth"}})],1),s("el-form-item",{attrs:{prop:"introduction",label:"签名"}},[s("el-input",{attrs:{placeholder:"签名"},model:{value:t.registerForm.introduction,callback:function(s){t.$set(t.registerForm,"introduction",s)},expression:"registerForm.introduction"}})],1),s("el-form-item",{attrs:{prop:"location",label:"地区"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"地区"},model:{value:t.registerForm.location,callback:function(s){t.$set(t.registerForm,"location",s)},expression:"registerForm.location"}},t._l(t.cities,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),s("div",{staticClass:"login-btn"},[s("el-button",{on:{click:function(s){return t.goback(-1)}}},[t._v("取消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(s){return t.SignUp()}}},[t._v("确定")])],1)],1)],1)],1)},ns=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"signUp-head"},[s("span",[t._v("用户注册")])])}];const rs={username:[{required:!0,trigger:"blur"}],password:[{required:!0,trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],phoneNum:[{essage:"请选择日期",trigger:"blur"}],email:[{message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],birth:[{required:!0,type:"date",message:"请选择日期",trigger:"change"}],introduction:[{message:"请输入介绍",trigger:"blur"}],location:[{message:"请输入地区",trigger:"change"}]},ls=[{value:"北京",label:"北京"},{value:"天津",label:"天津"},{value:"河北",label:"河北"},{value:"山西",label:"山西"},{value:"内蒙古",label:"内蒙古"},{value:"辽宁",label:"辽宁"},{value:"吉林",label:"吉林"},{value:"黑龙江",label:"黑龙江"},{value:"上海",label:"上海"},{value:"江苏",label:"江苏"},{value:"浙江",label:"浙江"},{value:"安徽",label:"安徽"},{value:"福建",label:"福建"},{value:"江西",label:"江西"},{value:"山东",label:"山东"},{value:"河南",label:"河南"},{value:"湖北",label:"湖北"},{value:"湖南",label:"湖南"},{value:"广东",label:"广东"},{value:"广西",label:"广西"},{value:"海南",label:"海南"},{value:"重庆",label:"重庆"},{value:"四川",label:"四川"},{value:"贵州",label:"贵州"},{value:"云南",label:"云南"},{value:"西藏",label:"西藏"},{value:"陕西",label:"陕西"},{value:"甘肃",label:"甘肃"},{value:"青海",label:"青海"},{value:"宁夏",label:"宁夏"},{value:"新疆",label:"新疆"},{value:"香港",label:"香港"},{value:"澳门",label:"澳门"},{value:"台湾",label:"台湾"}];var cs=function(){var t=this,s=t._self._c;return s("div",{staticClass:"login-logo"},[s("svg",{staticClass:"icon"},[s("use",{attrs:{"xlink:href":"#icon-erji"}})])])},ms=[],ds={name:"loginLogo"},us=ds,hs=(e("e16f"),Object(C["a"])(us,cs,ms,!1,null,"9818f2fe",null)),ps=hs.exports,gs={name:"sign-in",components:{LoginLogo:ps},mixins:[jt],data(){return{registerForm:{username:"",password:"",sex:"",phoneNum:"",email:"",birth:"",introduction:"",location:"",avator:"../../assets/img/user.jpg"},cities:[],rules:{}}},created(){this.cities=ls,this.rules=rs},activated(){this.$store.commit("setActiveName","注册")},methods:{SignUp(){let t=this;_i(this.registerForm).then(s=>{200==s.status&&(this.$message({type:"success",message:"注册成功"}),setTimeout((function(){t.$router.push({path:"/login-in"})}),1e3))}).catch(t=>{console.log(t)})},goback(t){this.$router.go(t)}}},vs=gs,fs=(e("aedb"),Object(C["a"])(vs,os,ns,!1,null,"335edc3c",null)),ys=fs.exports,bs=function(){var t=this,s=t._self._c;return s("div",[s("login-logo"),s("div",{staticClass:"signUp"},[t._m(0),s("el-form",{ref:"registerForm",staticClass:"demo-ruleForm",attrs:{"label-width":"70px",rules:t.rules},model:{value:t.registerForm,callback:function(s){t.registerForm=s},expression:"registerForm"}},[s("el-form-item",{attrs:{prop:"username",label:"用户名"}},[s("el-input",{attrs:{placeholder:"用户名"},model:{value:t.registerForm.username,callback:function(s){t.$set(t.registerForm,"username",s)},expression:"registerForm.username"}})],1),s("el-form-item",{attrs:{prop:"password",label:"密码"}},[s("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:t.registerForm.password,callback:function(s){t.$set(t.registerForm,"password",s)},expression:"registerForm.password"}})],1),s("div",{staticClass:"login-btn"},[s("el-button",{on:{click:function(s){return t.goSignUp()}}},[t._v("注册")]),s("el-button",{attrs:{type:"primary"},on:{click:function(s){return t.login()}}},[t._v("登录")])],1)],1)],1)],1)},_s=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"signUp-head"},[s("span",[t._v("用户登录")])])}],Cs={name:"login-in",components:{LoginLogo:ps},mixins:[jt],data(){return{registerForm:{username:"",password:""},rules:{username:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"}]}}},activated(){this.$store.commit("setActiveName","登录")},mounted(){this.changeIndex("登录")},methods:{login(){let t="http://localhost:3001/admin/api/user/getImg/";Ci(this.registerForm).then(s=>{let i=this;console.log(s),this.$message({type:"success",message:"登录成功"}),i.$store.commit("setLoginIn",!0),i.$store.commit("setUserId",s.data.id),i.$store.commit("setUsername",s.data.username);const a=t+s.data.id;Ii(s.data.id).then(t=>{console.log(t.status),200!==t.status?i.$store.commit("setAvator",e("de37")):i.$store.commit("setAvator",a)}).catch(t=>{console.log(t)}),setTimeout((function(){i.$router.push("/"),i.changeIndex("首页")}),1e3)})},goSignUp(){this.changeIndex("注册"),this.$router.push({path:"/sign-up"})},changeIndex(t){this.$store.commit("setActiveName",t)}}},As=Cs,ks=(e("c67e"),Object(C["a"])(As,bs,_s,!1,null,"670ccd68",null)),Is=ks.exports,Ss=function(){var t=this,s=t._self._c;return s("div",{staticClass:"setting"},[s("div",{staticClass:"leftCol"},[s("div",{staticClass:"settingsMainHeader"},[t._v("设置")]),s("ul",{staticClass:"setting-aside"},t._l(t.settingList,(function(e,i){return s("li",{key:i,class:{activeColor:t.activeName==e.name},on:{click:function(s){return t.handleClick(e)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),s("div",{staticClass:"contentCol"},[s(t.componentSrc,{tag:"component"})],1)])},$s=[],Ls=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"info"},[t._m(0),s("hr"),s("div",{staticClass:"personal"},[s("el-form",{ref:"registerForm",staticClass:"demo-ruleForm",attrs:{"label-width":"70px",rules:t.rules},model:{value:t.registerForm,callback:function(s){t.registerForm=s},expression:"registerForm"}},[s("el-form-item",{attrs:{prop:"username",label:"用户名"}},[s("el-input",{attrs:{placeholder:"用户名"},model:{value:t.registerForm.username,callback:function(s){t.$set(t.registerForm,"username",s)},expression:"registerForm.username"}})],1),s("el-form-item",{attrs:{prop:"password",label:"密码"}},[s("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:t.registerForm.password,callback:function(s){t.$set(t.registerForm,"password",s)},expression:"registerForm.password"}})],1),s("el-form-item",{attrs:{prop:"sex",label:"性别"}},[s("el-radio-group",{model:{value:t.registerForm.sex,callback:function(s){t.$set(t.registerForm,"sex",s)},expression:"registerForm.sex"}},[s("el-radio",{attrs:{label:"0"}},[t._v("女")]),s("el-radio",{attrs:{label:"1"}},[t._v("男")])],1)],1),s("el-form-item",{attrs:{prop:"phoneNum",label:"手机"}},[s("el-input",{attrs:{placeholder:"手机"},model:{value:t.registerForm.phoneNum,callback:function(s){t.$set(t.registerForm,"phoneNum",s)},expression:"registerForm.phoneNum"}})],1),s("el-form-item",{attrs:{prop:"email",label:"邮箱"}},[s("el-input",{attrs:{placeholder:"邮箱"},model:{value:t.registerForm.email,callback:function(s){t.$set(t.registerForm,"email",s)},expression:"registerForm.email"}})],1),s("el-form-item",{attrs:{prop:"birth",label:"生日"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"选择日期"},model:{value:t.registerForm.birth,callback:function(s){t.$set(t.registerForm,"birth",s)},expression:"registerForm.birth"}})],1),s("el-form-item",{attrs:{prop:"introduction",label:"签名"}},[s("el-input",{attrs:{placeholder:"签名"},model:{value:t.registerForm.introduction,callback:function(s){t.$set(t.registerForm,"introduction",s)},expression:"registerForm.introduction"}})],1),s("el-form-item",{attrs:{prop:"location",label:"地区"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"地区"},model:{value:t.registerForm.location,callback:function(s){t.$set(t.registerForm,"location",s)},expression:"registerForm.location"}},t._l(t.cities,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),s("div",{staticClass:"btn"},[s("el-button",{attrs:{type:"primary"},on:{click:t.saveMsg}},[t._v("保存")]),s("el-button",{on:{click:function(s){return t.goback(-1)}}},[t._v("取消")])],1)],1)])])},ws=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"title"},[s("span",[t._v("编辑个人资料")])])}],xs={name:"info",components:{},data(){return{registerForm:{username:"",password:"",sex:"",phoneNum:"",email:"",birth:"",introduction:"",location:""},cities:[],rules:{}}},computed:{...Object(l["b"])(["userId"])},created(){this.fetch(),this.cities=ls,this.rules=rs},methods:{saveMsg(){ki(this.registerForm,this.userId).then(t=>{console.log(t),this.$message({type:"success",message:"保存成功"}),setTimeout(()=>{this.$router.push({path:"/"})},1e3)}).catch(t=>{console.log(t)})},goback(t){this.$router.go(t)},fetch(){Ai(this.userId).then(t=>{this.registerForm=t.data})}}},js=xs,Os=(e("af73"),Object(C["a"])(js,Ls,ws,!1,null,"f5a3be24",null)),Ts=Os.exports,Ps=function(){var t=this,s=t._self._c;return s("div",{staticClass:"upload"},[s("p",{staticClass:"title"},[t._v("修改头像")]),s("hr"),s("div",{staticClass:"section"},[s("el-upload",{attrs:{drag:"",action:t.uploadUrl(),"show-file-list":!1,"on-success":t.handleAvatorSuccess,"before-upload":t.beforeAvatorUpload,name:"head"}},[s("i",{staticClass:"el-icon-upload"}),s("div",[t._v(" 将文件拖到此处，或"),s("span",{staticStyle:{color:"blue"}},[t._v("修改头像")])]),s("div",{attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件且不能超过10MB")])])],1)])},Ms=[],Ns={name:"Upload",mixins:[jt],data(){return{UserInfo:{}}},computed:{...Object(l["b"])(["userId"])},methods:{uploadUrl(){return"http://localhost:3001/admin/api/user/changeImg/"+this.userId},handleAvatorSuccess(t,s){Ii(this.userId).then(t=>{console.log(t.config.url),console.log(t.config.baseURL),this.$store.commit("setAvator",t.config.baseURL+t.config.url),200==t.request.status?this.$message({type:"success",message:"修改成功"}):this.$message({type:"error",message:"修改失败"}),this.$router.go(0)})},beforeAvatorUpload(t){const s="image/jpeg"==t.type,e=t.size/1024/1024<10;return s?!!e||(this.$message({type:"error",message:"上传头像图片不能大于10Mb"}),!1):(this.$message({type:"error",message:"上传头像图片只能是JPG格式"}),!1)}}},qs=Ns,Us=(e("e69b"),Object(C["a"])(qs,Ps,Ms,!1,null,"78ba1d1f",null)),Ds=Us.exports,Fs={name:"Setting",components:{Info:Ts,Upload:Ds},created(){this.$store.commit("setActiveName","")},data(){return{settingList:[{name:"个人信息",path:"Info"},{name:"修改头像",path:"Upload"}],activeName:"个人信息",componentSrc:"Info"}},methods:{handleClick(t){this.activeName=t.name,this.componentSrc=t.path}}},zs=Fs,Js=(e("45c9"),Object(C["a"])(zs,Ss,$s,!1,null,"896772d0",null)),Hs=Js.exports,Es=function(){var t=this,s=t._self._c;return s("div",{staticClass:"detail"},[s("div",{staticClass:"w1200"},[s("div",{staticClass:"detail-container"},[s("div",{staticClass:"detail-main"},[s("div",{staticClass:"cover"},[s("div",{staticClass:"cover-img"},[s("el-image",{attrs:{src:t.details.coverImgUrl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"cover-info"},[s("div",{staticClass:"cover-title"},[t._v(" "+t._s(t.details.name)+" ")]),t.details.creator?s("div",{staticClass:"cover-author"},[s("el-image",{staticClass:"cover-avatar",attrs:{src:t.details.creator.avatarUrl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])]),s("div",{staticClass:"cover-name"},[t._v(t._s(t.details.creator.nickname))]),s("div",{staticClass:"cover-date"},[t._v(t._s(t.format(t.details.createTime,"YYYY-MM-DD")))])],1):t._e(),t.details.tags?s("div",{staticClass:"cover-tags"},t._l(t.details.tags,(function(e,i){return s("router-link",{key:i,staticClass:"tag",attrs:{to:{path:"/song-list",query:{cat:e}}}},[t._v("#"+t._s(e))])})),1):t._e(),s("div",{staticClass:"cover-digital"},[s("span",{staticClass:"cover-playCount"},[s("i",{staticClass:"iconfont icon-playnum"}),t._v(" "+t._s(t.formartNum(t.details.playCount))+"次")]),s("span",{staticClass:"cover-collect"},[s("i",{staticClass:"iconfont icon-collect"}),t._v(" "+t._s(t.formartNum(t.details.subscribedCount)))]),s("span",{staticClass:"cover-comment"},[s("i",{staticClass:"iconfont icon-comment"}),t._v(" "+t._s(t.formartNum(t.details.commentCount)))])]),s("div",{staticClass:"cover-desc"},[s("h5",[t._v("歌单简介"),t.isShowDesc?s("em",{staticClass:"desc-close",on:{click:function(s){t.isShowDesc=!1}}},[s("i",{staticClass:"iconfont icon-closed"})]):t._e()]),s("p",{domProps:{innerHTML:t._s(t.details.description)},on:{click:t.showAllDesc}}),t.isShowDesc?s("pre",{staticClass:"cover-desc-all"},[t._v("                                "+t._s(t.details.description)+"\n                            ")]):t._e()])])]),s("div",{staticClass:"song-main"},[s("div",{staticClass:"song-header"},[s("h4",[t._v("歌曲列表 "),s("em",[t._v(t._s(t.total+"首歌"))])]),s("span",{staticClass:"play-all",on:{click:t.playAllSongs}},[s("i",{staticClass:"iconfont icon-audio-play"}),t._v(" 播放全部")]),s("span",{class:["collect",t.isActiveAlbum?"active":""],on:{click:function(s){return t.subPlayList()}}},[s("i",{class:["iconfont","icon-collect"+(t.isActiveAlbum?"-active":"")]}),t._v(" "+t._s(t.isActiveAlbum?"已收藏":"收藏"))])]),t.isLoading?[s("Loading")]:[s("album-content",{attrs:{songList:t.listOfSongs}},[s("template",{slot:"title"},[t._v("歌曲列表")])],2),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.limit,total:t.total},on:{"current-change":t.currentChange}})],1)]],2)]),s("div",{staticClass:"detail-aside"},[s("div",{staticClass:"playlist-collect"},[s("h3",{staticClass:"aside-title"},[t._v("喜欢这个歌单的人")]),s("div",{staticClass:"aside-main collect-main"},t._l(t.collects,(function(t){return s("div",{key:t.userId,staticClass:"collect-author",attrs:{to:{path:"/artist",query:{id:t.userId}}}},[s("el-image",{attrs:{src:t.avatarUrl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1)})),0)]),s("div",{staticClass:"playlist-recom"},[s("h3",{staticClass:"aside-title"},[t._v("相关歌单推荐")]),s("div",{staticClass:"aside-main recom-main"},t._l(t.playlists,(function(e){return s("router-link",{key:e.id,staticClass:"recom-item",attrs:{to:{path:"/song-list/detail",query:{id:e.id}}}},[s("el-image",{attrs:{src:e.coverImgUrl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])]),s("div",{staticClass:"recom-info"},[s("div",{staticClass:"recom-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"recom-author"},[t._v(" By. "),s("router-link",{attrs:{to:{path:"/artist",query:{id:e.creator.userId}}}},[t._v(t._s(e.creator.nickname))])],1)])],1)})),1)]),s("div",{staticClass:"playlist-comment"},[s("h3",{staticClass:"aside-title"},[t._v("歌单评论")]),s("div",{staticClass:"aside-main comment-main"},t._l(t.comments,(function(e){return s("div",{key:e.commentId,staticClass:"comment-item"},[s("el-image",{attrs:{src:e.user.avatarUrl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])]),s("div",{staticClass:"comment-info"},[s("div",{staticClass:"comment-userInfo"},[s("div",{staticClass:"comment-name"},[t._v(t._s(e.user.nickname))]),s("span",{staticClass:"comment-date"},[t._v(t._s(t.format(e.time,"hh:mm")))])]),s("div",{staticClass:"comment-desc"},[t._v(t._s(e.content))])])],1)})),0)])])])])])},Vs=[],Bs={name:"PlayListDetail",components:{AlbumContent:qt,Loading:ht},mounted(){this._initialize(this.$route.query.id)},mixins:[jt],data(){return{details:{},songList:[],collects:[],playlists:[],comments:[],isLoading:!0,isShowDesc:!1,total:0,limit:10,start:0,end:1,listSongs:"",id:","}},computed:{...Object(l["b"])(["listOfSongs","isActiveAlbum","userId","loginIn","AsidePlayList"])},created(){this.id=this.$route.query.id,this.getLikedAlbum(),this.$store.commit("setActiveName","歌单")},activated(){this.$store.commit("setActiveName","歌单")},methods:{currentChange(t){this.start=t-1,this.end=t,this.$store.commit("setListOfSongs",this.listSongs.slice(10*this.start,10*this.end))},formartNum(t){let s=0;return s=t>9999?Math.round(t/1e4*10)/10+"万":t,s},formatSongTime(t=0){t/=1e3;const s=(Math.floor(t/60)+"").padStart(2,"0"),e=(Math.floor(t%60)+"").padStart(2,"0");return`${s}:${e}`},_initialize(t){this.getDetail({id:t,s:8}),this.getCollect({id:t,limit:18}),this.getRecom({id:t}),this.getComment({id:t,limit:9})},getDetail(t){this.isLoading=!0,Li(t).then(t=>{if(200!==t.code)return this.$message.error("获取歌单中歌曲的列表数据请求失败");this.details=t.playlist;const s=t.playlist.trackIds;this.getAllSongs(s)})},getAllSongs(t){const s=[],e=500;for(let i=0;i<t.length;i+=e)s.push(t.slice(i,i+e));for(let i=0;i<s.length;i++){const t=[];s[i].map(s=>{t.push(s.id)}),this.isLoading=!0,Oi({ids:t.join(","),timestamp:(new Date).valueOf()+i}).then(t=>{this.listSongs=t.songs,this.$store.commit("setListOfSongs",this.listSongs.slice(10*this.start,10*this.end)),this.total=t.songs.length})}this.isLoading=!1},getCollect(t){wi(t).then(t=>{if(200!==t.code)return this.$message.error("订阅该歌单的用户列表数据请求失败");this.collects=t.subscribers})},getRecom(t){xi(t).then(t=>{if(200!==t.code)return this.$message.error("相关歌单推荐数据请求失败");this.playlists=t.playlists})},getComment(t){ji(t).then(t=>{if(200!==t.code)return this.$message.error("歌单精彩评论数据请求失败");this.comments=t.comments})},showAllDesc(){this.details.description.length>120&&(this.isShowDesc=!this.isShowDesc)},playAllSongs(){const t=this.AsidePlayList.length,s=[...this.AsidePlayList,...this.listOfSongs];this.$store.commit("setAsidePlayList",this.unique(s)),this.toPlay(this.AsidePlayList[t].id,this.AsidePlayList[t].al.picUrl,t,this.AsidePlayList[t].name,this.AsidePlayList[t].ar[0].name)},subPlayList(){if(this.isActiveAlbum)ga(this.id).then(t=>{200==t.status?(this.$message.success("取消收藏成功"),this.$store.commit("setIsActiveAlbum",!1)):this.$message.error("取消收藏失败")});else if(this.loginIn){const t={tid:this.$route.query.id,user_id:this.userId,time:(new Date).getTime()};ha(t).then(t=>{200==t.status&&(this.$message.success("歌单收藏成功"),this.$store.commit("setIsActiveAlbum",!0))})}else this.$message.error("您还没有登录，请先登录")},getLikedAlbum(){this.loginIn&&pa(this.userId).then(t=>{for(let s of t.data)if(s.tid==this.$route.query.id){this.$store.commit("setIsActiveAlbum",!0);break}})}},watch:{$route(t,s){this.$store.commit("setIsActiveAlbum",!1),this.getLikedAlbum(),this.id=this.$route.query.id;const e=this.$route.query.id;e&&(this.songList=[],this.total=0,this._initialize(e))},id(){this.$store.commit("setIsActiveAlbum",!1)}}},Rs=Bs,Ys=(e("584e"),Object(C["a"])(Rs,Es,Vs,!1,null,"684f4c38",null)),Xs=Ys.exports,Ks=function(){var t=this,s=t._self._c;return s("div",{staticClass:"artist"},[s("div",{staticClass:"w1200"},[s("div",{staticClass:"singer-info"},[s("div",{staticClass:"singer-avatar"},[s("el-image",{attrs:{src:t.artist.img1v1Url}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"singer-desc"},[s("div",{staticClass:"singer-author"},[s("div",{staticClass:"singer-name"},[t._v(t._s(t.artist.name))]),t.artist.accountId?s("router-link",{staticClass:"singer-btn singer-home",attrs:{to:{path:"/artist",query:{id:t.artist.accountId}}}},[s("i",{staticClass:"iconfont icon-home"}),t._v(" 个人主页")]):t._e(),s("span",{class:["singer-btn","singer-collect",t.isActiveArtist?"active":""],on:{click:function(s){return t.subArtist()}}},[s("i",{class:["iconfont","icon-collect"+(t.isActiveArtist?"-active":"")]}),t._v(" "+t._s(t.isActiveArtist?"已收藏":"收藏"))])],1),s("div",{staticClass:"singer-brief"},[t._v(t._s(t.artist.briefDesc?t.artist.briefDesc:"暂无简介")+" "),t.introduction.length?s("span",{on:{click:t.moreDesc}},[t._v("更多>>")]):t._e()])])])]),s("div",{staticClass:"singer-main"},[s("div",{staticClass:"w1200"},[s("div",{staticClass:"singer-hd"},[s("em",[t._v("作品集")]),s("div",{staticClass:"singer-tab"},[s("span",{class:["hot"===t.type?"active":""],on:{click:function(s){return t.changeType("hot")}}},[t._v("热门作品")]),s("span",{class:["album"===t.type?"active":""],on:{click:function(s){return t.changeType("album")}}},[t._v("所有专辑")]),s("span",{class:["mv"===t.type?"active":""],on:{click:function(s){return t.changeType("mv")}}},[t._v("相关MV")])]),"hot"===t.type?s("div",{staticClass:"singer-oper"},[s("span",{staticClass:"singer-btn playAll",on:{click:t.playAllSongs}},[s("i",{staticClass:"iconfont icon-audio-play"}),t._v(" 播放全部")])]):t._e()]),s("div",{staticClass:"singer-list"},[s("album-content",{directives:[{name:"show",rawName:"v-show",value:"hot"===t.type,expression:"type === 'hot'"}],attrs:{songList:t.listOfSongs,stripe:!0}},[s("template",{slot:"title"},[t._v("歌曲列表")])],2),s("AlbumList",{directives:[{name:"show",rawName:"v-show",value:"album"===t.type,expression:"type === 'album'"}],attrs:{albumList:t.hotAlbums}}),s("MvList",{directives:[{name:"show",rawName:"v-show",value:"mv"===t.type,expression:"type === 'mv'"},{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMv,expression:"loadMv"}],staticClass:"loadMv",attrs:{mvList:t.currentMv,"infinite-scroll-disabled":t.isLoadMv,"infinite-scroll-distance":"20"}}),t.isLoading?[s("Loading")]:t._e()],2),"hot"===t.type?s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.limit,total:t.total},on:{"current-change":t.currentChange2}})],1):t._e(),"album"===t.type?s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.limit-1,total:t.total},on:{"current-change":t.currentChange1}})],1):t._e(),"mv"===t.type?s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.limit,total:t.total},on:{"current-change":t.currentChange3}})],1):t._e()])]),s("el-dialog",{attrs:{title:t.artist.name,visible:t.dialogDescVisible,"destroy-on-close":!0},on:{"update:visible":function(s){t.dialogDescVisible=s}}},[s("div",{staticClass:"artist-desc-main"},[s("dl",{staticClass:"introduction"},[s("dt",[t._v("艺人介绍")]),s("dd",[t._v(t._s(t.artist.briefDesc))])]),t._l(t.introduction,(function(e,i){return s("dl",{key:i,staticClass:"introduction"},[s("dt",[t._v(t._s(e.ti))]),s("dd",[t._v(t._s(e.txt))])])}))],2)])],1)},Qs=[],Zs={name:"artist",components:{MvList:J,AlbumList:N,AlbumContent:qt,Loading:ht},mixins:[jt],data(){return{sUid:"",artist:{},hotSongs:[],hotAlbums:[],hotMvs:[],currentMv:[],introduction:[],type:this.$route.query.type||"hot",limit:10,offset:0,total:0,hasMoreMvs:!0,timer:null,dialogDescVisible:!1,isLoading:!0,isLoadMv:!0,start:0,end:1,listSongs:"",AllhotAlbums:[]}},activated(){this.$store.commit("setActiveName","歌手")},created(){this.sUid=this.$route.query.id,this.getLikedAlbum(),this.$store.commit("setActiveName","歌手")},computed:{...Object(l["b"])(["listOfSongs","isActiveArtist","userId","loginIn"])},mounted(){this.init(),this.$route.query.type&&this.getArtists()},methods:{getArtistDesc(){Ti({id:this.sUid,timestamp:(new Date).valueOf()}).then(t=>{if(200!==t.code)return this.$message.error("获取歌手描述数据请求失败");this.introduction=t.introduction})},getArtists(){this.isLoading=!0,Pi({id:this.sUid,timestamp:(new Date).valueOf()}).then(t=>{if(200!==t.code)return this.$message.error("获取歌手数据请求失败");this.artist=t.artist,this.hotSongs=t.hotSongs,this.listSongs=this.hotSongs,this.total=this.listSongs.length,this.$store.commit("setListOfSongs",this.listSongs.slice(10*this.start,10*this.end)),this.isLoading=!1})},subArtist(){if(this.isActiveArtist)ya(this.sUid).then(t=>{200==t.status?(this.$message.success("取消收藏成功"),this.$store.commit("setIsActiveArtist",!1)):this.$message.error("取消收藏失败")});else if(this.loginIn){const t={user_id:this.userId,tid:this.sUid,time:(new Date).getTime()};va(t).then(t=>{200==t.status?(this.$store.commit("setIsActiveArtist",!0),this.$message.success("收藏成功")):this.$message.success("收藏失败")})}else this.$message.error("您还没有登录，请先登录")},getLikedAlbum(){this.loginIn&&fa(this.userId).then(t=>{for(let s of t.data)if(s.tid==this.$route.query.id){this.$store.commit("setIsActiveArtist",!0);break}})},getArtistAlbum(){this.isLoading=!0,Mi({id:this.sUid,offset:this.offset}).then(t=>{if(200!==t.code)return this.$message.error("获取歌手专辑数据请求失败");this.total=t.artist.albumSize,this.AllhotAlbums=t.hotAlbums,this.hotAlbums=this.AllhotAlbums.slice(9*this.start,9*this.end),this.isLoading=!1})},getArtistMv(){this.hasMoreMvs&&this.isLoadMv&&(this.isLoading=!0,this.isLoadMv=!1,Wi({id:this.sUid,offset:this.offset}).then(t=>{if(200!==t.code)return this.$message.error("获取歌手专辑数据请求失败");this.hasMoreMvs=t.hasMore,this.hotMvs=[...this.hotMvs,...t.mvs],this.total=this.hotMvs.length,this.currentMv=this.hotMvs.slice(10*this.start,10*this.end),this.isLoadMv=!1,this.isLoading=!1}))},loadMv(){this.getArtistMv()},moreDesc(){this.dialogDescVisible=!0},changeType(t){const s={id:this.sUid};switch(this.type=t,this.offset=0,this.type){case"hot":this.getArtists();break;case"album":this.getArtistAlbum();break;case"mv":this.hotMvs=[],this.hasMoreMvs=!0,this.getArtistMv();break}"hot"!==t&&(s.type=this.type),this.$router.push({path:"artist",query:s})},currentChange1(t){this.start=t-1,this.end=t,this.hotAlbums=this.AllhotAlbums.slice(9*this.start,9*this.end)},currentChange2(t){this.start=t-1,this.end=t,this.$store.commit("setListOfSongs",this.listSongs.slice(10*this.start,10*this.end))},currentChange3(t){this.start=t-1,this.end=t,this.currentMv=this.hotMvs.slice(10*this.start,10*this.end)},init(){switch(this.sUid=this.$route.query.id,this.getArtistDesc(),this.type){case"hot":this.getArtists();break;case"album":this.getArtistAlbum();break;case"mv":this.getArtistMv();break}},playAllSongs(){const t=this.AsidePlayList.length,s=this.unique([...this.AsidePlayList,...this.listOfSongs]);this.$store.commit("setAsidePlayList",this.unique(s)),this.toPlay(this.AsidePlayList[t].id,this.AsidePlayList[t].al.picUrl,t,this.AsidePlayList[t].name,this.AsidePlayList[t].ar[0].name)}},watch:{$route:{handler(){this.sUid=this.$route.query.id},deep:!0},sUid(){this.$store.commit("setIsActiveArtist",!1),this.type=this.$route.query.type||"hot",this.getArtists()}},beforeDestroy(){clearTimeout(this.timer)},formatSongTime(t=0){t/=1e3;const s=(Math.floor(t/60)+"").padStart(2,"0"),e=(Math.floor(t%60)+"").padStart(2,"0");return`${s}:${e}`}},Gs=Zs,Ws=(e("9e7c"),Object(C["a"])(Gs,Ks,Qs,!1,null,"3344227e",null)),te=Ws.exports,se=function(){var t=this,s=t._self._c;return s("div",{staticClass:"my"},[s("div",{staticClass:"w1200"},[s("div",{staticClass:"my-container"},[s("div",{staticClass:"my-aside"},t._l(t.col,(function(e,i){return s("router-link",{key:i,staticClass:"item",class:["item",String(t.id)===String(t.id)?"active":""],attrs:{to:{name:"mymusic",query:{type:e.type,id:t.userId}}}},[s("h3",{staticClass:"my-favorite active"},[t._v("我收藏的"+t._s(e.name)+" "),s("i",{staticClass:"iconfont icon-arrow"})])])})),1),s("div",{staticClass:"my-main"},[s("router-view")],1)])])])},ee=[],ie={components:{},activated(){this.$store.commit("setActiveName","我的音乐")},created(){this.init()},computed:{...Object(l["b"])(["listOfSongs","userId"])},data(){return{col:[{type:"song",name:"歌曲"},{type:"album",name:"歌单"},{type:"artist",name:"歌手"},{type:"collection",name:"专辑"}],createdList:[],collectList:[],slideBox1:!1,slideBox2:!1,id:this.$route.query.id}},mounted(){},methods:{init(){const t=window.sessionStorage.getItem("loginIn");"false"!=t&&t?this.$router.push("/my/mymusic?type=song&id="+this.userId):(this.$router.push("/login-in"),this.$message.warning("你还没有登录，请先登录"))}}},ae=ie,oe=(e("9711"),Object(C["a"])(ae,se,ee,!1,null,"cac80710",null)),ne=oe.exports,re=function(){var t=this,s=t._self._c;return t.info?s("div",{staticClass:"song-container"},[s("div",{staticClass:"w1200"},[s("div",{staticClass:"song-sidebar"},[s("div",{staticClass:"sidebar"},[s("div",{staticClass:"cover"},[s("div",{staticClass:"cover-img"},[s("img",{staticClass:"cover-stylus",attrs:{src:e("ea02")}}),s("el-image",{attrs:{src:t.info.al.picUrl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),t.coverDesc?s("div",{staticClass:"cover-desc"},[s("h5",[t._v("专辑简介")]),s("p",[t._v(t._s(t.coverDesc))])]):t._e(),s("div",{staticClass:"simi-song"},[s("h6",[t._v("相似歌曲")]),s("div",{staticClass:"simi-main"},t._l(t.simiSong,(function(e){return s("div",{key:e.id,staticClass:"simi-item"},[s("div",{staticClass:"simi-info"},[s("router-link",{staticClass:"simi-name",attrs:{to:{path:"/song",query:{id:e.id}}}},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"simi-author"},t._l(e.artists,(function(e,i){return s("router-link",{key:e.name,staticClass:"song-author",attrs:{to:{path:"/artist",query:{id:e.id}}}},[t._v(t._s(0!==i?" / "+e.name:e.name))])})),1)],1)])})),0)])])])]),s("div",{staticClass:"song-main"},[s("h3",{staticClass:"song-name"},[t._v(" "+t._s(t.info.name)+" "),t.info.mvId?s("router-link",{staticClass:"mv-name",attrs:{to:{path:"/mv",query:{id:t.info.mvId}}}},[s("i",{staticClass:"iconfont icon-video"})]):t._e()],1),s("p",t._l(t.info.singer,(function(e,i){return s("router-link",{key:e.name,staticClass:"song-author",attrs:{to:{path:"/artist",query:{id:e.id}}}},[t._v(t._s(0!==i?" / "+e.name:e.name))])})),1),s("p",{staticClass:"song-info"},[s("span",[t._v("专辑："),s("router-link",{staticClass:"song-album",attrs:{to:{path:"/album",query:{id:t.info.al.id}}}},[t._v(t._s(t.info.al.name))])],1),s("span",[t._v("发行时间："),s("em",[t._v(t._s(t.format(t.info.publishTime,"YYYY年MM月DD日")))])])]),s("div",{staticClass:"song-oper"},[s("span",{class:["play-btn","play-all",t.songDisable],on:{click:function(s){return t.playing1(t.info)}}},[s("i",{class:["iconfont"]}),t._v(" "+t._s(t.info.vip?"VIP尊享":"立即播放"))]),[s("span",{staticClass:"play-btn play-collect,isActiveSong? 'active' : ''",on:{click:t.subSong}},[s("i",{class:["iconfont","icon-collect"+(t.isActiveSong?"-active":"")]}),t._v(" "+t._s(t.isActiveSong?"已收藏":"收藏"))])],s("span",{staticClass:"play-btn play-comment",on:{click:t.jumpComment}},[s("i",{staticClass:"iconfont icon-comment"}),t._v(" 评论")])],2),s("div",{staticClass:"song-lyric"},[s("SongShowLyric",{attrs:{sId:t.sId,local:"page"}})],1),s("div",{ref:"comment",staticClass:"song-comments"},[s("Comments",{attrs:{type:t.type,id:t.sId}})],1)])])]):t._e()},le=[],ce=function(){var t=this,s=t._self._c;return s("div",[s("div",{class:["lyrics-main",t.lyricName]},[t.lyric.length?s("div",{ref:"lyrics",staticClass:"lyrics"},t._l(t.lyric,(function(e,i){return s("p",{key:i,class:[t.isCurLyric(i)]},[t._v(t._s(e.lyric))])})),0):s("div",{staticClass:"lyric-empty"},[t.lyric?s("p",[t._v("纯音乐，无歌词")]):s("p",[t._v("歌词加载中......")])])]),"page"===t.local&&t.lyric.length>6?s("div",{staticClass:"lyric-more"},[t.isFull?t._e():s("p",[t._v("...")]),s("span",{on:{click:function(s){return s.stopPropagation(),t.fullLyric.apply(null,arguments)}}},[t._v(t._s(this.isFull?"收起":"展开"))])]):t._e()])},me=[],de={name:"lyrics",components:{},props:{sId:{type:[Number,String],default:0},local:{type:String,default:""}},data(){return{lyric:[],curIndex:0,isFull:!1}},mounted(){console.log(this.sId),this.getLyrics(this.sId)},computed:{lyricName(){return["page"===this.local?"page-lyrics":"",this.isFull?"fullLyrics":""]},isCurLyric(){return t=>t!==this.curIndex||this.local?"":"active"}},methods:{getLyrics(t){gi(t).then(t=>{console.log(t.lrc),this.lyric=this.parseLyric(t.lrc.lyric)}).catch(t=>{console.log(t)})},parseLyric(t){const s=/\n/,e=t.split(s),i=/\[\d{2}:\d{2}.\d{2,3}\]/,a=[];return e.forEach(t=>{if(""===t)return;const s={},e=t.match(i);s.lyric=""===t.split("]")[1].trim()?"":t.split("]")[1].trim(),s.time=e?this.formatLyricTime(e[0].slice(1,e[0].length-1)):0,s.uid=Math.random().toString().slice(-6),""===s.lyric?console.log("这一行没有歌词"):a.push(s)}),a},formatLyricTime(t){const s=/.*:/,e=/:.*\./,i=/\./,a=parseInt(t.match(s)[0].slice(0,2));let o=parseInt(t.match(e)[0].slice(1,3));const n=t.slice(t.match(i).index+1,t.match(i).index+3);return 0!==a&&(o+=60*a),Number(o+"."+n)},findCurIndex(t){for(let s=0;s<this.lyric.length;s++)if(t<=this.lyric[s].t)return s;return this.lyric.length},fullLyric(){this.isFull=!this.isFull}},watch:{sId(t,s){this.lyric=[],this.curIndex=0,this.getLyrics(t)},currentTime(t,s){this.lyric.length&&(this.curIndex=this.findCurIndex(t)-1)}}},ue=de,he=(e("47ff"),Object(C["a"])(ue,ce,me,!1,null,"cad3d61a",null)),pe=he.exports,ge=function(){var t=this,s=t._self._c;return s("div",{staticClass:"comments"},[s("div",{staticClass:"comment_hd"},[s("h2",[t._v("评论"),s("em",[t._v("共"+t._s(t.total)+"条评论")])])]),s("el-form",{staticClass:"comment_box"},[s("div",{staticClass:"comment_textarea"},[s("div",{staticClass:"pre"},[t._v(t._s(t.msg))]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"J_inpBox inp-paragraph",attrs:{name:"leave_msg",id:"leave_msg",placeholder:"期待你的神评论……"},domProps:{value:t.msg},on:{input:function(s){s.target.composing||(t.msg=s.target.value)}}})]),s("div",{staticClass:"comment_box_footer"},[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.subComment}},[t._v("评论")]),s("span",{staticClass:"comment_limit"},[s("em",{staticClass:"num"},[t._v(t._s(t.msg.length))]),t._v("/"+t._s(t.maxLen))])],1)]),s("div",{staticClass:"comment_area"},[t.comments.length?[t._l(t.comments,(function(e,i){return s("div",{key:i,staticClass:"comment_item"},[s("router-link",{staticClass:"comment_avatar",attrs:{to:{path:"/user",query:{id:e.user.userId}}}},[s("el-image",{staticClass:"el-img",attrs:{src:e.user.avatarUrl+"?param=120y120"}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"comment_info"},[s("router-link",{attrs:{to:{path:"/user",query:{id:e.user.userId}}}},[t._v(t._s(e.user.nickname))]),s("div",{staticClass:"comment_content"},[t._v(" "+t._s(e.content)+" ")]),t._l(e.beReplied,(function(e){return s("div",{key:e.beRepliedCommentId,staticClass:"comment_reply"},[s("router-link",{attrs:{to:{path:"/user",query:{id:e.user.userId}}}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content)+" ")],1)})),s("div",{staticClass:"comment_footer"},[s("div",{staticClass:"comment_time"},[t._v(t._s(t.format(e.time,"MM月DD日 hh:mm")))]),s("div",{staticClass:"comment_oper"},[t.userId===e.user.userId?s("em",{staticClass:"comment_del",on:{click:function(s){return t.delComment(e)}}},[s("i",{staticClass:"iconfont icon-del"})]):t._e(),s("span",{class:[e.liked?"active":""],on:{click:function(s){return t.likeComment(e)}}},[s("i",{staticClass:"iconfont icon-dianzan"}),t._v("("+t._s(e.likedCount)+")")]),s("span",{staticClass:"replyComment",on:{click:function(s){return t.replyComment(e,i)}}},[s("i",{staticClass:"iconfont icon-comment"})])])]),s("transition",{attrs:{name:"fade",mode:"out-in"}},[t.isShowReply(e,i)?s("ReplyComment",{attrs:{params:e},on:{replyMsg:t.replyMsg}}):t._e()],1)],2)],1)})),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:this.total},on:{"current-change":t.currentChange}})],1)]:s("div",{staticClass:"comments_status"},[t.isEmpty?s("div",{staticClass:"empty"},[t._m(0),s("p",[t._v("暂无留言")])]):s("div",{staticClass:"loading"},[t._v("评论加载中...")])])],2)],1)},ve=[function(){var t=this,s=t._self._c;return s("p",[s("i",{staticClass:"iconfont icon-empty-main"})])}],fe=function(){var t=this,s=t._self._c;return s("div",{staticClass:"reply-comment"},[s("h3",[t._v("我回复@"+t._s(t.params.user.nickname)+":")]),s("div",{staticClass:"comment_textarea"},[s("div",{staticClass:"pre"},[t._v(t._s(t.msg))]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"J_inpBox inp-paragraph",attrs:{name:"leave_msg",id:"leave_msg",placeholder:"期待你的神评论……"},domProps:{value:t.msg},on:{input:function(s){s.target.composing||(t.msg=s.target.value)}}})]),s("div",{staticClass:"comment_box_footer"},[s("span",{staticClass:"comment_limit"},[s("em",{staticClass:"num"},[t._v(t._s(t.msg.length))]),t._v("/"+t._s(t.maxLen))]),s("el-button",{attrs:{type:"primary",size:"mini",round:""},on:{click:t.subReplyComment}},[t._v("评论")])],1)])},ye=[],be={name:"replyComment",components:{},props:["params"],data(){return{msg:"",maxLen:140}},computed:{},methods:{subReplyComment(){this.$emit("replyMsg",this.msg)}},watch:{msg(){this.msg=this.maxLen>=this.msg?this.msg:this.msg.substring(0,this.maxLen)}}},_e=be,Ce=(e("d11f"),Object(C["a"])(_e,fe,ye,!1,null,"aa13599c",null)),Ae=Ce.exports,ke={name:"Comments",components:{ReplyComment:Ae},mixins:[jt],props:{type:{type:Number,default:0},id:{type:String,default:"0"}},data(){return{msg:"",maxLen:140,curId:this.id,limit:20,offset:0,before:0,hotComments:[],comments:[],total:0,currentPage:0,isEmpty:!1,replyCommentId:0,replyIndex:-1,serveComment:[],childType:0}},computed:{isShowReply(){return function(t,s){return t.commentId===this.replyCommentId&&this.replyIndex===s}},...Object(l["b"])(["userId","loginIn"])},created(){this.childType=this.type,this.getComment()},methods:{getComment(){switch(this.getServeComments(),this.childType){case 0:this.getSongComment();break;case 1:this.getMvComment();break;case 3:this.getAlbumComment();break}this.$forceUpdate()},getSongComment(){Vi({id:this.curId,limit:this.limit,offset:this.offset,before:this.before}).then(t=>{this.msgHandler(t)})},getMvComment(){Qi({id:this.curId,limit:this.limit,offset:this.offset,before:this.before}).then(t=>{this.msgHandler(t)})},getAlbumComment(){Ri({id:this.curId,limit:this.limit,offset:this.offset,before:this.before}).then(t=>{this.msgHandler(t)})},msgHandler(t){this.hotComments=t.hotComments||[],this.hotComments.map(t=>(t.isHot=!0,t)),this.comments=this.unique([...this.serveComment,...this.hotComments,...t.comments]),this.total=this.comments.length,this.isEmpty=0===this.before&&!this.comments.length},commentHandler(t,s,e){const i={t:t,type:this.type,id:this.curId,content:s,commentId:e};Bi(i).then(s=>{if(200!==s.code)return this.$message.error("评论数据请求失败");this.msg="",this.getComment(),0===t?this.$message.success("删除评论成功！"):1===t?this.$message.success("评论成功！"):2===t&&(this.$message.success("回复评论成功！"),this.replyCommentId=0,this.replyIndex=-1)})},subComment(){this.loginIn?this.subServeComment():this.$message.error("请先登录")},delComment(t){this.$confirm("确定删除评论？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",center:!0}).then(()=>{0==this.childType?Aa(t._id).then(t=>{console.log(t),this.getComment()}):1==this.childType?ka(t._id).then(t=>{console.log(t),this.getComment()}):3==this.childType&&Ia(t._id).then(t=>{console.log(t),this.getComment()})}).catch(()=>{console.log("取消")})},replyMsg(t){this.isLogin?this.commentHandler(2,t,this.replyCommentId):this.setLoginDialog(!0)},currentChange(t){this.offset=(t-1)*this.limit,this.getComment()},subServeComment(){const t={tid:this.curId,user_id:this.userId,content:this.msg,time:(new Date).getTime(),likecount:0};0==this.childType?aa(t).then(t=>{t.status&&(this.$message.success("评论成功!数据同步可能会耗时!"),this.msg="")}):1==this.childType?na(t).then(t=>{t.status&&(this.$message.success("评论成功!数据同步可能会耗时!"),this.msg="")}):3==this.childType&&la(t).then(t=>{t.status&&(this.$message.success("评论成功!数据同步可能会耗时!"),this.msg="")}),this.getComment()},getServeComments(){0==this.childType?oa(this.curId).then(t=>{this.serveComment=[],t.data.forEach(t=>{const s=t.user_id,e={content:t.content,tid:t.tid,_id:t._id,user:{avatarUrl:"http://localhost:3001/admin/api/user/getImg/"+s._id,nickname:s.username,userId:s._id},time:Number(t.time),likedCount:t.likecount};this.serveComment.unshift(e)})}):1==this.childType?ra(this.curId).then(t=>{this.serveComment=[],t.data.forEach(t=>{const s=t.user_id,e={content:t.content,tid:t.tid,_id:t._id,user:{avatarUrl:"http://localhost:3001/admin/api/user/getImg/"+s._id,nickname:s.username,userId:s._id},time:Number(t.time),likedCount:t.likecount};this.serveComment.unshift(e)})}):3==this.childType&&ca(this.curId).then(t=>{this.serveComment=[],t.data.forEach(t=>{const s=t.user_id,e={content:t.content,tid:t.tid,_id:t._id,user:{avatarUrl:"http://localhost:3001/admin/api/user/getImg/"+s._id,nickname:s.username,userId:s._id},time:Number(t.time),likedCount:t.likecount};this.serveComment.unshift(e)})})}},watch:{id(t,s){this.curId=t,this.offset=0,this.getComment()},msg(){this.msg=this.maxLen>=this.msg?this.msg:this.msg.substring(0,this.maxLen)},serveComment(t,s){this.serveComment=t}}},Ie=ke,Se=(e("9481"),Object(C["a"])(Ie,ge,ve,!1,null,"56fcfbee",null)),$e=Se.exports,Le={name:"song-detail",components:{Comments:$e,SongShowLyric:pe},mixins:[jt],data(){return{info:null,sId:"0",type:0,simiSong:[],background:"",tid:""}},created(){this.tid=this.$route.query.id,this.$store.commit("setListOfSongs",[]),this.$store.commit("setActiveName","")},activated(){this.$store.commit("setActiveName","")},mounted(){this.sId=String(this.$route.query.id),this.init(),window.addEventListener("scroll",this.handleScroll,!0),this.backGround()},computed:{...Object(l["b"])(["listOfSongs","isActiveSong","userId","loginIn","AsidePlayList"]),songDisable(){return this.info.license||this.info.vip?"disable":""},coverDesc(){return this.info.alia.join(" / ")}},methods:{backGround(){const t=document.getElementsByClassName("song-container");t.style="background-image:url('"+this.background+"')"},getSongDetail(){Oi({ids:this.sId,timestamp:(new Date).valueOf()}).then(t=>{this.info=t.songs[0],console.log(t),this.background=this.info.al.picUrl})},getSimiSong(){bi({id:this.sId}).then(t=>{this.simiSong=t.songs})},playing1(t){this.toPlay(t.id,t.al.picUrl,this.AsidePlayList.length,t.name,t.ar[0].name,t)},jumpComment(){this.$refs.comment.scrollIntoView(!0)},init(){this.getSongDetail(),this.getSimiSong()},subSong(){if(this.isActiveSong)ua(this.tid).then(t=>{200==t.status?(this.$message.success("取消收藏成功"),this.$store.commit("setIsActiveSong",!1)):this.$message.error("取消收藏失败")});else if(this.loginIn){const t={user_id:this.userId,tid:this.tid,time:(new Date).getTime()};ma(t).then(t=>{200==t.status?(this.$store.commit("setIsActiveSong",!0),this.$message.success("收藏成功")):this.$message.success("收藏失败")})}else this.$message.error("您还没有登录，请先登录")},getSong(){this.loginIn&&da(this.userId).then(t=>{for(let s of t.data)if(s.tid==this.$route.query.id){this.$store.commit("setIsActiveSong",!0);break}})}},watch:{$route:{handler(){this.sId=this.$route.query.id,this.init()},deep:!0},tid(){this.$store.commit("setIsActiveSong",!1)}}},we=Le,xe=(e("87d6"),Object(C["a"])(we,re,le,!1,null,"2784254f",null)),je=xe.exports,Oe=function(){var t=this,s=t._self._c;return t.details?s("div",{staticClass:"album"},[s("div",{staticClass:"w1200"},[s("div",{staticClass:"album-cover"},[s("div",{staticClass:"album-img"},[s("el-image",{attrs:{src:t.details.picUrl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"album-info"},[s("div",{staticClass:"album-title"},[t._v(" "+t._s(t.details.name)+" "),s("span",[t._v(t._s("#"+t.details.type))])]),s("div",{staticClass:"album-singer"},[t._v("歌手："),t._l(t.details.artists,(function(e,i){return s("router-link",{key:e.name,staticClass:"song_name",attrs:{to:{path:"/artist",query:{id:e.id}}}},[t._v(t._s(0!==i?" / "+e.name:e.name))])}))],2),s("div",{staticClass:"album-time"},[t._v("发行时间："+t._s(t.format(t.details.publishTime,"YYYY-MM-DD")))]),s("div",{staticClass:"album-company"},[t._v("发行公司："+t._s(t.details.company))]),t.details.description?s("div",{staticClass:"album-desc"},[s("h5",[t._v("歌单简介"),t.isShowDesc?s("em",{staticClass:"desc-close",on:{click:function(s){t.isShowDesc=!1}}},[s("i",{staticClass:"iconfont icon-closed"})]):t._e()]),s("p",{on:{click:t.showAllDesc}},[t._v(t._s(t.details.description))]),t.isShowDesc?s("pre",{staticClass:"album-desc-all"},[t._v("                        "+t._s(t.details.description)+"\n                    ")]):t._e()]):t._e()])]),s("div",{staticClass:"detail-container"},[s("div",{staticClass:"detail-main"},[s("div",{staticClass:"song-header"},[s("h4",[t._v("包含歌曲列表 "),s("em",[t._v(t._s(t.details.size+"首歌"))])]),s("span",{staticClass:"play-all",on:{click:t.playAllSongs}},[s("i",{staticClass:"iconfont icon-audio-play"}),t._v(" 播放全部")]),s("span",{class:["collect",t.isActiveCollection?"active":""],on:{click:function(s){return t.subCollection()}}},[s("i",{class:["iconfont","icon-collect"+(t.isActiveCollection?"-active":"")]}),t._v(" "+t._s(t.isActiveCollection?"已收藏":"收藏"))])]),s("album-content",{attrs:{songList:t.songList,stripe:!0}},[s("template",{slot:"title"},[t._v("歌曲列表")])],2),s("div",{ref:"comment",staticClass:"album-comments"},[s("Comments",{attrs:{type:t.type,id:t.albumId}})],1)],1),s("div",{staticClass:"detail-aside"},[s("h3",{staticClass:"aside-title"},[t._v(t._s(t.details.artists[0].name)+"的其他专辑"),s("router-link",{staticClass:"album-more",attrs:{to:{path:"/artist",query:{id:t.details.artists[0].id,type:"album"}}}},[t._v("全部>>")])],1),s("div",{staticClass:"aside-main aside-album-main"},t._l(t.hotAlbums,(function(e){return s("router-link",{key:e.id,staticClass:"aside-album-item",attrs:{to:{path:"/album",query:{id:e.id}}}},[s("el-image",{attrs:{src:e.picUrl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])]),s("div",{staticClass:"aside-album-info"},[s("div",{staticClass:"aside-album-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"aside-album-time"},[t._v(" "+t._s(t.format(t.details.publishTime,"YYYY-MM-DD"))+" ")])])],1)})),1)])])])]):t._e()},Te=[],Pe={name:"albumDetail",components:{Comments:$e,AlbumContent:qt},mounted(){this.albumId=this.$route.query.id,this._initialize()},mixins:[jt],data(){return{tid:"",albumId:"",details:null,songList:[],dynamic:{},hotAlbums:[],comments:[],type:3,isShowDesc:!1,artist_id:""}},computed:{...Object(l["b"])(["listOfSongs","isActiveCollection","userId","loginIn","AsidePlayList"])},created(){this.tid=this.$route.query.id,this.getLikedCollection(),this.$store.commit("setActiveName","")},activated(){this.$store.commit("setActiveName","")},methods:{getAlbum(t){Ji(t).then(t=>{if(200!==t.code)return this.$message.error("歌单推荐数据请求失败");this.artist_id=t.album.artists[0].id,this.details=t.album,this.songList=t.songs,this.$store.commit("setListOfSongs",this.songList),this.getArtistAlbum(this.artist_id)})},getAlbumDynamic(t){Hi(t).then(t=>{if(200!==t.code)return this.$message.error("专辑动态数据请求失败");this.dynamic=t})},getArtistAlbum(t){Mi({id:t,limit:5,offset:0}).then(t=>{if(200!==t.code)return this.$message.error("歌手专辑数据请求失败");this.hotAlbums=t.hotAlbums})},showAllDesc(){this.details.description.length>120&&(this.isShowDesc=!this.isShowDesc)},playAllSongs(){const t=this.AsidePlayList.length,s=[...this.AsidePlayList,...this.songList];this.$store.commit("setAsidePlayList",this.unique(s)),this.toPlay(this.AsidePlayList[t].id,this.AsidePlayList[t].al.picUrl,t,this.AsidePlayList[t].name,this.AsidePlayList[t].ar[0].name)},subCollection(){if(this.isActiveCollection)Ca(this.tid).then(t=>{200==t.status?(this.$message.success("取消收藏成功"),this.$store.commit("setIsActiveCollection",!1)):this.$message.error("取消收藏失败")});else if(this.loginIn){const t={user_id:this.userId,tid:this.tid,time:(new Date).getTime()};ba(t).then(t=>{200==t.status?(this.$store.commit("setIsActiveCollection",!0),this.$message.success("收藏成功")):this.$message.success("收藏失败")})}else this.$message.error("您还没有登录，请先登录")},getLikedCollection(){this.loginIn&&_a(this.userId).then(t=>{for(let s of t.data)if(s.tid==this.$route.query.id){this.$store.commit("setIsActiveCollection",!0);break}})},_initialize(){this.getAlbum({id:this.albumId}),this.getAlbumDynamic({id:this.albumId})}},watch:{$route(){this.albumId=this.$route.query.id,this.albumId&&this._initialize(),this.$store.commit("setIsActiveCollection",!1)},tid(){this.$store.commit("setIsActiveCollection",!1)}}},Me=Pe,Ne=(e("f25d"),Object(C["a"])(Me,Oe,Te,!1,null,"2548d23c",null)),qe=Ne.exports,Ue=function(){var t=this,s=t._self._c;return s("div",{staticClass:"mv-detail"},[s("div",{staticClass:"mv-video",class:[t.isNight?"active":""]},[s("div",{staticClass:"w1200"},[s("div",{staticClass:"video-main"},[t.videoOptions.sources[0].src?s("video-player",{attrs:{options:t.videoOptions},on:{play:t.onPlay,pause:t.onPause,seeking:t.onSeeking,qualityChange:t.onQualityChange}}):t._e(),s("div",{staticClass:"mv-light",class:[t.isNight?"active":""],on:{click:t.toggleLight}},[s("i",{staticClass:"iconfont",class:[t.isNight?"icon-night":"icon-day"]})])],1),s("div",{staticClass:"mv-info"},[s("div",{staticClass:"mv-info-hd"},[s("div",{staticClass:"info-name"},[t._v(t._s(t.mvDetail.name))]),t._l(t.mvDetail.artists,(function(e,i){return s("router-link",{key:e.name,staticClass:"song-author",attrs:{to:{path:"/singer",query:{id:e.id}}}},[t._v(t._s(0!==i?" / "+e.name:e.name))])})),s("div",{staticClass:"mv-info-count"},[s("span",{staticClass:"info-count"},[t._v("播放量："+t._s(t.formartNum(t.mvDetail.playCount)))]),s("span",{staticClass:"info-time"},[t._v("发布时间："+t._s(t.mvDetail.publishTime))])])],2),s("div",{staticClass:"mv-desc"},[t._v(" "+t._s(t.mvDetail.briefDesc?t.mvDetail.briefDesc:"暂无简介")+" ")])])])]),s("div",{staticClass:"w1200"},[s("div",{staticClass:"mv-container"},[s("div",{staticClass:"mv-main"},[s("Comments",{attrs:{type:t.type,id:t.mId}})],1),s("div",{staticClass:"mv-aside"},[s("div",{staticClass:"simi-mv"},[s("h3",{staticClass:"aside-title"},[t._v("相似MV")]),s("div",{staticClass:"aside-main mv-main"},t._l(t.simiMv,(function(e,i){return s("div",{key:""+e.id+i,staticClass:"item"},[s("router-link",{staticClass:"faceImg",attrs:{to:{path:"/mv",query:{id:e.id}}}},[s("i",{staticClass:"iconfont icon-play"}),s("el-image",{attrs:{src:e.cover||e.imgurl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])])],1),s("div",{staticClass:"info"},[s("router-link",{staticClass:"mv-name",attrs:{to:{path:"/mv",query:{id:e.id}}}},[t._v(t._s(e.name))]),e.publishTime?t._e():s("router-link",{staticClass:"mv-author",attrs:{to:{path:"/singer",query:{id:e.artistId}}}},[t._v(t._s(e.artistName))]),s("div",{staticClass:"mv-playCount"},[s("i",{staticClass:"iconfont icon-video"}),t._v(" "+t._s(t.formartNum(e.playCount)))]),e.publishTime?s("div",{staticClass:"mv-time"},[t._v("发布时间："+t._s(e.publishTime))]):t._e()],1)],1)})),0)])])])])])},De=[],Fe=function(){var t=this,s=t._self._c;return s("div",{staticClass:"video"},[s("video",{ref:"videoPlayer",staticClass:"video-js video-skin"})])},ze=[],Je=e("f0e2");e("723d"),e("fda2"),e("aa0a");window.videojs=Je["default"],e("01a0");var He={name:"videoPlayer",components:{},props:{options:{type:Object,default(){return{}}}},data(){return{opt:{playbackRates:[.5,1,1.5,2],controls:!0,autoplay:!1,muted:!1,loop:!1,preload:"auto",aspectRatio:"16:9",fluid:!0,notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{currentTimeDisplay:!0,timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,volumePanel:{inline:!1},QualitySelector:!0,children:["playToggle","volumePanel","progressControl","currentTimeDisplay","timeDivider","durationDisplay","PlaybackRateMenuButton","qualityButton","fullscreenToggle"]},qualityList:[],quality:{},qualityType:{240:"标清",360:"普清",480:"高清",720:"超清",1080:"1080P"},errorDisplay:!1,posterImage:!1,bigPlayButton:!0,textTrackDisplay:!1},player:null}},mounted(){const t=this;this.$nextTick(()=>{const s={...this.opt,...this.options};this.player=Object(Je["default"])(this.$refs.videoPlayer,s,(function(){t.$emit("ready",this,"视频加载完成"),this.on("loadstart",()=>{t.$emit("loadstart",this,"开始请求数据")}),this.on("progress",()=>{t.$emit("progress",this,"正在请求数据")}),this.on("loadedmetadata",()=>{t.$emit("loadedmetadata",this,"获取资源长度完成")}),this.on("canplaythrough",()=>{t.$emit("canplaythrough",this,"视频源数据加载完成")}),this.on("waiting",()=>{t.$emit("waiting",this,"等待数据")}),this.on("play",()=>{t.$emit("play",this,"视频开始播放")}),this.on("playing",()=>{t.$emit("playing",this,"视频播放中")}),this.on("pause",()=>{t.$emit("pause",this,"视频暂停播放")}),this.on("ended",()=>{t.$emit("ended",this,"视频播放结束")}),this.on("error",()=>{t.$emit("error",this,"error")}),this.on("seek",()=>{t.$emit("seek",this,"视频跳转")}),this.on("seeking",()=>{t.$emit("seeking",this,"视频跳转中")}),this.on("seeked",()=>{t.$emit("seeked",this,"视频跳转结束")}),this.on("ratechange",()=>{t.$emit("ratechange",this,"播放速率改变")}),this.on("timeupdate",()=>{t.$emit("timeupdate",this,"播放时长改变")}),this.on("volumechange",()=>{t.$emit("volumechange",this,"音量改变")}),this.on("stalled",()=>{t.$emit("stalled",this,"网速异常")}),this.on("qualityChange",()=>{t.$emit("qualityChange",this,"高清视频切换")})}))})},beforeDestroy(){this.player&&this.player.dispose()},computed:{src(){return this.options.sources[0].src}},methods:{},watch:{src(){this.player.src(this.src),this.player.play()}}},Ee=He,Ve=(e("1ece"),Object(C["a"])(Ee,Fe,ze,!1,null,"d301ccca",null)),Be=Ve.exports,Re={name:"MvDetail",components:{Comments:$e,videoPlayer:Be},data(){return{mId:this.$route.query.id,mvDetail:{},type:1,videoOptions:{sources:[{type:"",src:""}],qualityList:[],quality:1080},currentTime:0,simiMv:[],isNight:!1}},computed:{},created(){this.init(),this.getMvUrl(),this.getMvDetail(),this.getSimiMv(),this.$store.commit("setActiveName","MV")},activated(){this.$store.commit("setActiveName","MV")},mounted(){},methods:{formartNum(t){let s=0;return s=t>9999?Math.round(t/1e4*10)/10+"万":t,s},getMvDetail(){},getMvUrl(t){Ki({id:this.$route.query.id,r:t}).then(t=>{if(200!==t.code)return this.$message.error("获取mv地址数据请求失败");const s=t.data.url;this.$set(this.videoOptions.sources,0,{type:"video/mp4",src:s}),this.$forceUpdate()})},getSimiMv(){Zi({id:this.$route.query.id}).then(t=>{if(200!==t.code)return this.$message.error("获取相似Mv数据请求失败");this.simiMv=t.mvs})},init(){this.currentTime=0,Xi({id:this.$route.query.id}).then(t=>{if(200!==t.code)return this.$message.error("mv详情数据请求失败");this.mvDetail=t.data,this.videoOptions.qualityList=t.data.brs,this.videoOptions.quality={br:t.mp.dl}}),Ki({id:this.$route.query.id}).then(t=>{const s=t.url;if(200!==t.code)return this.$message.error("mv地址数据请求失败");this.$set(this.videoOptions.sources,0,{type:"video/mp4",src:s})})},onPlay(t){t.currentTime(this.currentTime)},onSeeking(t){this.currentTime=t.currentTime()},onPause(t){this.currentTime=t.currentTime(),t.pause()},onQualityChange(t){this.onPause(t),this.currentTime=t.currentTime(),this.getMvUrl(t.quality.val)},toggleLight(){this.isNight=!this.isNight}},watch:{$route(t,s){this.mId=this.$route.query.id,this.mId&&this.init()}}},Ye=Re,Xe=(e("5eb3"),Object(C["a"])(Ye,Ue,De,!1,null,"6aaba0cc",null)),Ke=Xe.exports,Qe=function(){var t=this,s=t._self._c;return s("div",{staticClass:"mv-page"},[s("div",{staticClass:"w1200"},[s("div",{staticClass:"filter"},[s("div",{staticClass:"filter-item"},[s("span",[t._v("区域")]),t._l(t.area,(function(e,i){return s("em",{key:i,staticClass:"hover",class:i===t.areaIndex?"active":"",on:{click:function(s){return t.selectType("area",i)}}},[t._v(t._s(e))])}))],2),s("div",{staticClass:"filter-item"},[s("span",[t._v("类型")]),t._l(t.type,(function(e,i){return s("em",{key:i,staticClass:"hover",class:i===t.typeIndex?"active":"",on:{click:function(s){return t.selectType("type",i)}}},[t._v(t._s(e))])}))],2)]),s("div",{staticClass:"list-container"},[s("div",{staticClass:"list-head"},[s("h2",[t._v("全部MV")]),s("div",{staticClass:"type"},t._l(t.order,(function(e,i){return s("span",{key:i,staticClass:"hover",class:i===t.orderIndex?"active":"",on:{click:function(s){return t.selectType("order",i)}}},[t._v(t._s(e))])})),0)]),s("MvList",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMv,expression:"loadMv"}],staticClass:"loadMv",attrs:{mvList:t.pageList,"infinite-scroll-disabled":"isLoadMv","infinite-scroll-distance":"50"}})],1),t.isLoading?[s("Loading")]:t._e()],2)])},Ze=[],Ge={name:"mv",components:{MvList:J,Loading:ht},activated(){this.$store.commit("setActiveName","MV")},data(){return{area:["全部","内地","港台","欧美","日本","韩国"],type:["全部","官方版","原生","现场版","网易出品"],order:["上升最快","热门","最新"],areaIndex:0,typeIndex:0,orderIndex:0,params:{area:"",type:"",order:"",limit:30,offset:0},list:[],isLoading:!0,isLoadMv:!0,page:0,pageList:[]}},computed:{},mounted(){this.params.area=this.area[this.areaIndex],this.params.type=this.type[this.typeIndex],this.params.order=this.order[this.orderIndex],this.pullup()},methods:{pullup(){document.addEventListener("scroll",()=>{let t=document.documentElement.scrollTop||document.body.scrollTop,s=document.documentElement.clientHeight||document.body.clientHeight,e=document.documentElement.offsetHeight||document.body.offsetHeight;console.log(t,s,e),e<=t+s+1&&(this.isLoading=!0,this.page++,this.pageList=[...this.pageList,...this.list.slice(20*this.page,20*(this.page+1))],this.isLoading=!1)})},getMv(t){Yi(t).then(t=>{if(200!==t.code)return this.$message.error("获取数据请求失败");this.list=0!==this.params.offset?[...this.list,...t.data]:t.data,this.pageList=this.list.slice(0,20*(this.page+1)),this.isLoadMv=!t.hasMore,this.isLoading=t.hasMore})},selectType(t,s){this[t+"Index"]=s,this.list=[],this.page=0,this.params.offset=0,this.params[t]=this[t][s]},loadMv(){this.isLoadMv=!0,this.params.offset=this.list.length}},watch:{params:{handler(t){this.getMv(t)},deep:!0}}},We=Ge,ti=(e("6a83"),Object(C["a"])(We,Qe,Ze,!1,null,"0d0211c6",null)),si=ti.exports,ei=function(){var t=this,s=t._self._c;return s("div",{staticClass:"rank"},[s("div",{staticClass:"w1200"},[s("div",{staticClass:"rank-container"},[s("div",{staticClass:"rank-aside"},[s("div",{staticClass:"rank-type"},[s("div",{staticClass:"type-hd"},[s("span",{class:"Top"===t.type?"active":"",on:{click:function(s){return t.selectType("Top")}}},[t._v("TOP榜")]),s("span",{class:"Feature"===t.type?"active":"",on:{click:function(s){return t.selectType("Feature")}}},[t._v("特色榜")]),s("span",{class:"Other"===t.type?"active":"",on:{click:function(s){return t.selectType("Other")}}},[t._v("场景榜")])]),s("div",{staticClass:"type-main"},t._l(t.list,(function(e,i){return s("div",{key:i,staticClass:"type-item",class:t.rId==e.id?"active":"",on:{click:function(s){return t.selectItem(e)}}},[s("el-image",{staticClass:"item-img",attrs:{src:e.coverImgUrl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])]),s("div",{staticClass:"item-info"},[s("div",{staticClass:"item-title"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"item-time"},[t._v(" "+t._s(e.updateFrequency)+" ")])])],1)})),0)])]),s("div",{staticClass:"rank-main"},[s("div",{staticClass:"rank-list-hd"},[s("el-image",{staticClass:"rank-img",attrs:{src:t.rankInfo.coverImgUrl}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont icon-placeholder"})])]),t.rankInfo?s("div",{staticClass:"rank-info"},[s("div",{staticClass:"rank-title"},[t._v(" "+t._s(t.rankInfo.name)+" "),s("span",[t._v("("+t._s(t.format(t.rankInfo.updateTime,"MM月DD日"))+" 更新)")])]),t.rankInfo.tags?s("div",{staticClass:"rank-tags"},t._l(t.rankInfo.tags,(function(e,i){return s("router-link",{key:i,staticClass:"tag",attrs:{to:{path:"/song-list",query:{cat:e}}}},[t._v("#"+t._s(e))])})),1):t._e(),s("div",{staticClass:"rank-digital"},[s("span",{staticClass:"rank-playCount"},[s("i",{staticClass:"iconfont icon-playnum"}),t._v(" "+t._s(t.formartNum(t.rankInfo.playCount))+"次")]),s("span",{staticClass:"rank-collect"},[s("i",{staticClass:"iconfont icon-collect"}),t._v(" "+t._s(t.formartNum(t.rankInfo.subscribedCount)))]),s("span",{staticClass:"rank-comment"},[s("i",{staticClass:"iconfont icon-comment"}),t._v(" "+t._s(t.formartNum(t.rankInfo.commentCount)))])]),s("div",{staticClass:"rank-desc"},[t._v(" "+t._s(t.rankInfo.description)+" ")])]):t._e()],1),s("div",{staticClass:"song-header"},[s("h4",[t._v("歌曲列表 "),s("em",[t._v(t._s(t.total+"首歌"))])]),s("span",{staticClass:"play-all",on:{click:t.playAllSongs}},[s("i",{staticClass:"iconfont icon-audio-play"}),t._v(" 播放全部")])]),t.isLoading?[s("Loading")]:[s("AlbumContent",{attrs:{songList:t.listOfSongs,stripe:!0}}),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.limit,total:t.total},on:{"current-change":t.currentChange}})],1)]],2)])])])},ii=[],ai={name:"Rank",components:{AlbumContent:qt,Loading:ht},mixins:[jt],data(){return{list:[],type:"Top",listTop:[],listFeature:[],listOther:[],rId:0,rankInfo:{},songList:[],isLoading:!0,total:0,limit:10,start:0,end:1,listSongs:""}},computed:{...Object(l["b"])(["listOfSongs","AsidePlayList"])},activated(){this.$store.commit("setActiveName","排行榜")},created(){this.rId=this.$route.query.rId,this.type=this.$route.query.type?this.$route.query.type:this.type},mounted(){this.getTopListDetail()},methods:{currentChange(t){this.start=t-1,this.end=t,this.$store.commit("setListOfSongs",this.listSongs.slice(10*this.start,10*this.end))},formartNum(t){let s=0;return s=t>9999?Math.round(t/1e4*10)/10+"万":t,s},getTopListDetail(){ta().then(t=>{if(200!==t.code)return this.$message.error("获取排行榜详情数据请求失败");this.listTop=t.list.filter(t=>t.ToplistType),this.listFeature=t.list.filter(t=>!t.ToplistType&&t.name.indexOf("云音乐")>=0),this.listOther=t.list.filter(t=>!t.ToplistType&&t.name.indexOf("云音乐")<0),this.list=this.type?this["list"+this.type]:this.listTop,this.rId=this.rId?this.rId:this.listTop[0].id})},getListDetail(){this.isLoading=!0,Ui({id:this.rId,s:-1}).then(t=>{if(200!==t.code)return this.$message.error("获取排行榜单详情数据请求失败");this.rankInfo=t.playlist,this.listSongs=t.playlist.tracks,console.log(this.listSongs),this.$store.commit("setListOfSongs",this.listSongs.slice(10*this.start,10*this.end)),this.total=t.playlist.tracks.length,this.isLoading=!1})},selectType(t){this.type=t,this.list=this["list"+this.type],this.rId=this["list"+t][0].id,this.$router.push({path:"rank",query:{type:this.type,rId:this.rId}})},selectItem(t){this.rId=t.id,this.$router.push({path:"rank",query:{type:this.type,rId:this.rId}})},playAllSongs(){const t=this.AsidePlayList.length,s=[...this.AsidePlayList,...this.listOfSongs];this.$store.commit("setAsidePlayList",this.unique(s)),this.toPlay(this.AsidePlayList[t].id,this.AsidePlayList[t].al.picUrl,t,this.AsidePlayList[t].name,this.AsidePlayList[t].ar[0].name)},_formatSongs(t,s){const e=[];return t.map((t,i)=>{t.id&&(t.license=!s[i].cp,e.push(t))}),e}},watch:{rId(t,s){this.rId=t,this.rId&&this.getListDetail()}}},oi=ai,ni=(e("7a04"),Object(C["a"])(oi,ei,ii,!1,null,"23562429",null)),ri=ni.exports;i["default"].use(p["a"]);const li=[{path:"/",name:"home",component:it},{path:"/home",name:"home",component:it},{path:"/song-list",name:"song-list",component:Ct},{path:"/singer",name:"singer",component:Lt},{path:"/search",name:"search",component:Gt},{path:"/lyric",name:"lyric",component:as},{path:"/sign-up",name:"sign-up",component:ys},{path:"/login-in",name:"login-in",component:Is},{path:"/setting",name:"setting",component:Hs},{path:"/song-list/detail",name:"song-list-detail",component:Xs},{path:"/my/song-list/detail",name:"song-list-detail",component:Xs},{path:"/artist",name:"artist",component:te},{path:"/my",name:"my",component:ne,mata:{requireAuth:!0},children:[{path:"/my/mymusic",name:"mymusic",component:zt}]},{path:"/song",name:"song",component:je},{path:"/album",name:"album",component:qe},{path:"/mv",name:"mv",component:Ke},{path:"/mv-page",name:"mv-page",component:si},{path:"/rank",name:"rank",component:ri}],ci=new p["a"]({routes:li});var mi=ci;function di(t,s={}){return new Promise((e,i)=>{h.a.get(t,{params:s}).then(t=>{e(t.data)}).catch(t=>{i(t)})})}function ui(t,s={}){return new Promise((e,i)=>{h.a.post(t,s).then(t=>{e(t.data)}).catch(t=>{i(t)})})}h.a.defaults.timeout=5e3,h.a.defaults.baseURL="/cloud-api";const hi=h.a.create({baseURL:"/admin/api"});hi.interceptors.response.use(t=>t,t=>(t.response.data.message&&i["default"].prototype.$message({type:"err",message:t.response.data.message}),Promise.reject(t))),h.a.defaults.withCredentials=!1;const pi=t=>di("/cloudsearch?keywords= "+t),gi=t=>di("/lyric?id="+t),vi=t=>di("/song/url?id="+t),fi=t=>h()({method:"get",url:t,responseType:"blob"}),yi=()=>di("/banner",{}),bi=({id:t=""})=>di("/simi/song?id="+t,{}),_i=t=>hi.post("/rest2/user",t),Ci=t=>hi.post("/user/login",t),Ai=t=>hi.get("/user/change/"+t),ki=(t,s)=>hi.put("/user/change/"+s,t),Ii=t=>hi.get("/user/getImg/"+t),Si=()=>di("/playlist/hot",{}),$i=({order:t="hot",cat:s="",limit:e=50,offset:i=0})=>di(`/top/playlist?limit=${e}&order=${t}&cat=${s}&offset=${i}`,{}),Li=({id:t="",s:s=8})=>di(`/playlist/detail?id=${t}&s=${s}`,{}),wi=({id:t="",limit:s=20,offset:e=0})=>di(`/playlist/subscribers?id=${t}&limit=${s}&offset=${e}`,{}),xi=({id:t=""})=>di("/related/playlist?id="+t,{}),ji=({id:t="",limit:s=20,offset:e=0,before:i=0})=>di(`/comment/playlist?id=${t}&limit=${s}&offset=${e}&before=${i}`,{}),Oi=({ids:t="",timestamp:s=0})=>ui(`/song/detail?timestamp=${s}&&ids=${t}`,{ids:t}),Ti=({id:t=""})=>di("/artist/desc?id="+t,{}),Pi=({id:t=""})=>di("/artists?id="+t,{}),Mi=({id:t="",limit:s=50,offset:e=0})=>di(`/artist/album?id=${t}&limit=${s}&offset=${e}`,{}),Ni=({limit:t=30,offset:s=0})=>di(`/top/artists?limit=${t}&offset=${s}`,{}),qi=()=>di("/toplist",{}),Ui=({id:t="",s:s=8})=>di(`/playlist/detail?id=${t}&s=${s}`,{}),Di=()=>di("/playlist/catlist",{}),Fi=({order:t="hot",cat:s="",limit:e=50,offset:i=0})=>di(`/top/playlist?limit=${e}&order=${t}&cat=${s}&offset=${i}`,{}),zi=({type:t=-1,area:s=-1,initial:e="",limit:i=50,offset:a=0})=>di(`/artist/list?type=${t}&area=${s}&initial=${e}&limit=${i}&offset=${a}`,{}),Ji=({id:t=""})=>di("/album?id="+t,{}),Hi=({id:t=""})=>di("/album/detail/dynamic?id="+t,{}),Ei=({limit:t=20,offset:s=0,area:e="",type:i="new",year:a="",month:o=""})=>di(`/top/album?limit=${t}&offset=${s}&area=${e}&type=${i}&year=${a}&month=${o}`,{}),Vi=({id:t="",limit:s=20,offset:e=0,before:i=0,timestamp:a=0})=>di(`/comment/music?id=${t}&limit=${s}&offset=${e}&before=${i}&timestamp=${a}`,{}),Bi=({t:t=1,type:s=0,id:e="",content:i="",commentId:a=""})=>di(`/comment?t=${t}&type=${s}&id=${e}&content=${i}&commentId=${a}`,{}),Ri=({id:t="",limit:s=20,offset:e=0,before:i=0,timestamp:a=0})=>di(`/comment/album?id=${t}&limit=${s}&offset=${e}&before=${i}&timestamp=${a}`,{}),Yi=({area:t="",type:s="",order:e="",limit:i=50,offset:a=0})=>di(`/mv/all?area=${t}&type=${s}&order=${e}&limit=${i}&offset=${a}`,{}),Xi=({id:t=""})=>di("/mv/detail?mvid="+t,{}),Ki=({id:t="",r:s=1080})=>di(`/mv/url?id=${t}&r=${s}`,{}),Qi=({id:t="",limit:s=20,offset:e=0,before:i=0,timestamp:a=0})=>di(`/comment/mv?id=${t}&limit=${s}&offset=${e}&before=${i}&timestamp=${a}`,{}),Zi=({id:t=""})=>di("/simi/mv?mvid="+t,{}),Gi=({limit:t=30,area:s=""})=>di(`/mv/first?limit=${t}&area=${s}`,{}),Wi=({id:t="",limit:s=100,offset:e=0})=>di(`/artist/mv?id=${t}&limit=${s}&offset=${e}`,{}),ta=()=>di("/toplist/detail",{}),sa=({keywords:t="",limit:s=30,offset:e=0,type:i="1"})=>di(`/cloudsearch?keywords=${t}&limit=${s}&offset=${e}&type=${i}`,{}),ea=()=>di("/search/hot",{}),ia=({keywords:t=""})=>di("/search/suggest?keywords="+t,{}),aa=t=>hi.post("/comment/song",t),oa=t=>hi.get("/comment/song/"+t),na=t=>hi.post("/comment/mv",t),ra=t=>hi.get("/comment/mv/"+t),la=t=>hi.post("/comment/album",t),ca=t=>hi.get("/comment/album/"+t),ma=t=>hi.post("/likedsong",t),da=t=>hi.get("/likedsong/"+t),ua=t=>hi.delete("/likedsong/delete/"+t),ha=t=>hi.post("/likedalbum",t),pa=t=>hi.get("/likedalbum/"+t),ga=t=>hi.delete("/likedalbum/delete/"+t),va=t=>hi.post("/likedartist",t),fa=t=>hi.get("/likedartist/"+t),ya=t=>hi.delete("/likedartist/delete/"+t),ba=t=>hi.post("/likedcollection",t),_a=t=>hi.get("/likedcollection/"+t),Ca=t=>hi.delete("/likedcollection/delete/"+t),Aa=t=>hi.delete("/comment/song/"+t),ka=t=>hi.delete("/comment/mv/"+t),Ia=t=>hi.delete("/comment/album/"+t);var Sa={name:"Header",data(){return{navMsg:[],keywords:"",loginMsg:[],menuList:[],isShowSearch:!1,keyVal:"",serachHot:[],suggestInfo:{},listType:{songs:"单曲",artists:"歌手",albums:"专辑",playlists:"歌单"}}},components:{},computed:{...Object(l["b"])(["activeName","loginIn","avator"])},mounted(){document.querySelector("#user").addEventListener("click",(function(t){document.querySelector(".menu").classList.add("show"),t.stopPropagation()}),!1),document.querySelector(".menu").addEventListener("click",(function(t){t.stopPropagation()}),!1),document.addEventListener("click",(function(){document.querySelector(".menu").classList.remove("show")}),!1)},methods:{back(){this.$router.go(-1)},getSearchSuggest(){ia({keywords:this.keyVal}).then(t=>{if(200!==t.code)return this.$message.error("数据请求失败");this.suggestInfo=t.result})},getSearchHot(){ea().then(t=>{if(200!==t.code)return this.$msg.error("数据请求失败");this.serachHot=t.result.hots})},handleInput(){this.keyVal?(this.showSearch(),this.isShowSearch=!0):this.isShowSearch=!1},showSearch(){this.keyVal?(this.suggestInfo={},this.getSearchSuggest()):(this.serachHot=[],this.getSearchHot())},handleFocus(){this.showSearch(),this.isShowSearch=!0},handleClose(){this.isShowSearch=!1},search(){this.keyVal&&(this.$router.push({path:"/search",query:{key:this.keyVal}}),this.isShowSearch=!1)},jumpPage(t,s){switch(this.keyVal=t.name,s){case"songs":this.$router.push({path:"/song",query:{id:t.id}});break;case"artists":this.$router.push({path:"/artist",query:{id:t.id}});break;case"albums":this.$router.push({path:"/album",query:{id:t.id}});break;case"playlists":this.$router.push({path:"/song-list/detail",query:{id:t.id}});break}this.isShowSearch=!1},jumpSearch(t){this.isShowSearch=!1,this.keyVal=t.first,t.first!==this.$route.query.key&&this.$router.push({path:"/search",query:{key:t.first}})},goHome(){this.$store.commit("setActiveName",c[0].name),this.activeName=c[0].name,this.$router.push({path:"/"})},goPage(t,s){this.$store.commit("setActiveName",s),this.$router.push({path:t})},attachImageUrl(t){return t||e("de37")},goMenuList(t){0==t?(this.$store.commit("setLoginIn",!1),this.$store.commit("setIsActive",!1),this.$store.commit("setIsActiveAlbum",!1),this.$store.commit("setIsActiveSong",!1),this.$store.commit("setIsActiveArtist",!1),this.$store.commit("setIsActiveCollection",!1),this.$router.go(0)):this.$router.push({path:t})}},created(){this.navMsg=c,this.loginMsg=m,this.menuList=d}},$a=Sa,La=(e("7d5a"),Object(C["a"])($a,n,r,!1,null,"3d1fc2ba",null)),wa=La.exports,xa=function(){var t=this,s=t._self._c;return s("div",{staticClass:"scroll-top",on:{click:t.returnTop}},[s("div",{staticClass:"box-in"})])},ja=[],Oa={name:"ScrollTop",methods:{returnTop(){document.documentElement.scrollTop=document.body.scrollTop=0}}},Ta=Oa,Pa=(e("5707"),Object(C["a"])(Ta,xa,ja,!1,null,"12074db1",null)),Ma=Pa.exports,Na=function(){var t=this;t._self._c;return t._m(0)},qa=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"the-footer"},[s("p",[t._v("关于|帮助|条款|反馈")]),s("p",[t._v("Copyright @2021")])])}],Ua={name:"TheFooter"},Da=Ua,Fa=(e("09b8"),Object(C["a"])(Da,Na,qa,!1,null,"ef2b61ec",null)),za=Fa.exports,Ja=function(){var t=this,s=t._self._c;return s("div",{staticClass:"song-audio"},[s("audio",{ref:"player",attrs:{src:t.url,controls:"controls",preload:"true"},on:{canplay:t.startPlay,ended:t.ended,timeupdate:t.timeupdate}})])},Ha=[],Ea={name:"song-audio",computed:{...Object(l["b"])(["id","url","isPlay","listOfSongs","duration","curTime","changeTime","autoNext","volume"])},watch:{isPlay:function(){this.togglePlay()},changeTime(){this.$refs.player.currentTime=this.changeTime},volume(t){this.$refs.player.volume=t}},methods:{startPlay(){let t=this.$refs.player;this.$store.commit("setDuration",t.duration),t.play(),this.$store.commit("setIsPlay",!0)},ended(){this.$store.commit("setIsPlay",!1),this.$store.commit("setCurTime",0),this.$store.commit("setAutoNext",!this.autoNext)},togglePlay(){let t=this.$refs.player;this.isPlay?t.play():t.pause()},timeupdate(){this.$store.commit("setCurTime",this.$refs.player.currentTime)}}},Va=Ea,Ba=(e("4706"),Object(C["a"])(Va,Ja,Ha,!1,null,null,null)),Ra=Ba.exports,Ya=function(){var t=this,s=t._self._c;return s("div",{staticClass:"play-bar",class:{show:!t.toggle}},[s("div",{staticClass:"item-up",class:{turn:t.toggle},on:{click:function(s){t.toggle=!t.toggle}}},[s("i",{staticClass:"iconfont icon-xiangshang-05",attrs:{slot:"reference",title:"隐藏/显示"},slot:"reference"})]),s("div",{staticClass:"kongjian"},[s("div",{staticClass:"item",on:{click:t.prev}},[s("i",{staticClass:"iconfont icon-shangyishou_huaban",attrs:{slot:"reference",title:"上一首"},slot:"reference"})]),s("div",{staticClass:"item",on:{click:function(s){return t.togglePlay()}}},[s("i",{staticClass:"iconfont",class:t.playButtonUrl,attrs:{slot:"reference",title:"播放/暂停"},slot:"reference"})]),s("div",{staticClass:"item",on:{click:t.next}},[s("i",{staticClass:"iconfont icon-xiayishou_huaban",attrs:{slot:"reference",title:"下一首"},slot:"reference"})]),s("div",{staticClass:"item-img",on:{click:t.toLyric}},[s("img",{attrs:{src:t.picUrl,alt:""}})]),s("div",{staticClass:"playing-speed"},[s("div",{staticClass:"current-time"},[t._v(t._s(t.nowTime))]),s("div",{staticClass:"progress-box"},[s("div",{staticClass:"item-song-title"},[s("div",[t._v(t._s(this.title))]),s("div",[t._v(t._s(this.artist))])]),s("div",{ref:"progress",staticClass:"progress",on:{mousemove:t.mousemove}},[s("div",{ref:"bg",staticClass:"bg",on:{click:t.updatemove}},[s("div",{ref:"curProgress",staticClass:"curProgress",style:{width:t.curLength+"%"}})]),s("div",{ref:"idot",staticClass:"idot",style:{left:t.curLength+"%"},on:{mousedown:t.mousedown,mouseup:t.mouseup}})])]),s("div",{staticClass:"left-time"},[t._v(t._s(t.songTime))]),s("div",{staticClass:"item item-volume"},[0==t.volume?s("i",{staticClass:"iconfont icon-jingyin",attrs:{slot:"reference",title:"静音"},slot:"reference"}):s("i",{staticClass:"iconfont icon-yinliang",attrs:{slot:"reference",title:"音量"},slot:"reference"}),s("el-slider",{staticClass:"volume",attrs:{vertical:!0},model:{value:t.volume,callback:function(s){t.volume=s},expression:"volume"}})],1),s("div",{staticClass:"item",on:{click:t.subSong}},[s("i",{staticClass:"iconfont icon-shoucang",class:[t.isActive?"active":""],attrs:{slot:"reference",title:"收藏"},slot:"reference"})]),s("div",{staticClass:"item",on:{click:function(s){return t.download()}}},[s("i",{staticClass:"iconfont icon-xiazai",attrs:{slot:"reference",title:"下载"},slot:"reference"})]),s("div",{staticClass:"item",on:{click:function(s){return t.changeAside()}}},[s("i",{staticClass:"iconfont icon-bofangliebiao",attrs:{slot:"reference",title:"播放列表"},slot:"reference"})]),s("div",{staticClass:"item",on:{click:function(s){return t.changePlayMode()}}},[s("i",{staticClass:"iconfont",class:t.PlayMode(),attrs:{title:"切换模式"}})])])])])},Xa=[],Ka={name:"PlayBar",data(){return{nowTime:"00:00",songTime:"00:00",curLength:0,progressLength:0,mouseStartX:0,tag:!1,volume:50,ly:"",toggle:!0,playMode:{loop:0,suijixunhuan:1,danquxunhuan1:2},mode:0}},computed:{...Object(l["b"])(["id","url","isPlay","playButtonUrl","picUrl","title","artist","duration","curTime","showAside","listIndex","listOfSongs","autoNext","isActive","loginIn","userId","AsidePlayList"])},created(){this.PlayMode()},mounted(){this.progressLength=this.$refs.progress.getBoundingClientRect().width,document.querySelector(".item-volume").addEventListener("click",(function(t){document.querySelector(".volume").classList.add("show-volume"),t.stopPropagation()}),!1),document.querySelector(".volume").addEventListener("click",(function(t){t.stopPropagation()}),!1),document.addEventListener("click",(function(){document.querySelector(".volume").classList.remove("show-volume")}),!1)},watch:{isPlay(){this.isPlay?this.$store.commit("setPlayButtonUrl","icon-zanting4"):this.$store.commit("setPlayButtonUrl","icon-play")},curTime(){this.nowTime=this.formatSeconds(this.curTime),this.songTime=this.formatSeconds(this.duration),this.curLength=this.curTime/this.duration*100},volume(){this.$store.commit("setVolume",this.volume/100)},autoNext(){this.autoNext&&this.next()},id(){this.$store.commit("setIsActive",!1)},mode(){this.$store.commit("setMode",this.mode)}},methods:{PlayMode(){return this.mode===this.playMode.loop?"icon-loop":this.mode===this.playMode.suijixunhuan?"icon-suijixunhuan":"icon-danquxunhuan1"},changePlayMode(){this.mode>=2?(this.mode=0,this.PlayMode()):this.mode=this.mode+1},togglePlay(){this.isPlay?this.$store.commit("setIsPlay",!1):this.$store.commit("setIsPlay",!0)},formatSeconds(t){let s=parseInt(t),e="",i=parseInt(s/3600),a=parseInt(s/60),o=parseInt(s%60);return i>0&&(e=i<10?"0"+i+":":+i+":"),e+=a>0?a<10?"0"+a+":":a+":":"00:",e+=o>0?o<10?"0"+o:o:"00",e},mousedown(t){this.mouseStartX=t.clientX,this.tag=!0},mouseup(){this.tag=!1},mousemove(t){if(!this.duration)return!1;if(this.tag){let s=t.clientX-this.mouseStartX,e=this.$refs.curProgress.getBoundingClientRect().width,i=(s+e)/this.progressLength*100;i>100&&(i=100),this.curLength=i,this.mouseStartX=t.clientX,this.changeTime(i)}},changeTime(t){let s=.01*t*this.duration;this.$store.commit("setChangeTime",s)},updatemove(t){if(!this.tag){let s=this.$refs.bg.offsetLeft,e=(t.clientX-s)/this.progressLength*100;e>100?e=100:e<0&&(e=0),this.curLength=e,this.changeTime(e)}},changeAside(){this.$store.commit("setShowAside",!0)},prev(){-1!=this.listIndex&&this.AsidePlayList.length>1&&(this.listIndex>0?this.$store.commit("setListIndex",this.listIndex-1):this.$store.commit("setListIndex",this.AsidePlayList.length-1),this.toPlay(this.AsidePlayList[this.listIndex].id))},next(){if(-1!=this.listIndex&&this.AsidePlayList.length>1){if(0===this.mode)this.listIndex<this.AsidePlayList.length-1?this.$store.commit("setListIndex",this.listIndex+1):this.$store.commit("setListIndex",0);else if(1===this.mode){const t=this.AsidePlayList.length;this.listIndex<this.AsidePlayList.length-1?(this.$store.commit("setListIndex",this.listIndex+Math.round(Math.random()*t)),this.$store.commit("setIsPlay",!0)):this.$store.commit("setListIndex",Math.round(Math.random()*t))}else this.$store.commit("setListIndex",this.listIndex+0),this.$store.commit("setIsPlay",!0);this.toPlay(this.AsidePlayList[this.listIndex].id)}},toPlay(t){t&&t!=this.id&&(this.$store.commit("setId",this.AsidePlayList[this.listIndex].id),this.getUrl(this.AsidePlayList[this.listIndex].id),this.$store.commit("setPicUrl",this.AsidePlayList[this.listIndex].al.picUrl),this.$store.commit("setTitle",this.AsidePlayList[this.listIndex].name),this.$store.commit("setArtist",this.AsidePlayList[this.listIndex].ar[0].name),this.getLyric(this.AsidePlayList[this.listIndex].id),this.loginIn&&da(this.userId).then(s=>{for(let e of s.data)if(e.tid==t){this.$store.commit("setIsActive",!0);break}}))},getUrl(t){vi(t).then(t=>{this.$store.commit("setUrl",t.data[0].url),console.log(t.data[0].url)}).catch(t=>{console.log(t)})},getLyric(t){gi(t).then(t=>{this.$store.commit("setLyric",t.lrc.lyric)}).catch(t=>{console.log(t)})},toLyric(){this.$router.push({path:"/lyric"})},download(){fi(this.url).then(t=>{console.log(t);let s=t.data;console.log(this.artist),console.log(this.title);let e=document.createElement("a");e.download=`${this.artist}-${this.title}.mp3`,e.style.display="none";let i=new Blob([s]);e.href=URL.createObjectURL(i),document.body.appendChild(e),e.click(),document.body.removeChild(e)}).catch(t=>{console.log(t)})},subSong(){if(this.id)if(this.isActive)ua(this.id).then(t=>{200==t.status?(this.$message.success("取消收藏成功"),this.$store.commit("setIsActive",!1)):this.$message.error("取消收藏失败")});else if(this.loginIn){const t={user_id:this.userId,tid:this.id,time:(new Date).getTime()};ma(t).then(t=>{200==t.status?(this.$store.commit("setIsActive",!0),this.$message.success("收藏成功")):this.$message.success("收藏失败")})}else this.$message.error("您还没有登录，请先登录");else this.$message.error("当前无播放歌曲")}}},Qa=Ka,Za=(e("015f"),Object(C["a"])(Qa,Ya,Xa,!1,null,"9341839e",null)),Ga=Za.exports,Wa=function(){var t=this,s=t._self._c;return s("transition",{attrs:{name:"slide-fade"}},[t.showAside?s("div",{staticClass:"the-aside"},[s("h2",{staticClass:"title"},[t._v("播放列表")]),s("span",{staticClass:"sumAside"},[t._v("(共"+t._s(t.AsidePlayList.length)+"首)")]),s("div",{staticClass:"delAll",on:{click:function(s){return t.delAll()}}},[s("i",{staticClass:"iconfont icon-del",attrs:{title:"清空列表"}}),t._v("清空列表")]),s("ul",{staticClass:"menus"},t._l(t.AsidePlayList,(function(e,i){return s("li",{key:i,class:{"is-play":t.id==e.id},on:{click:function(s){return t.toPlay(e.id,e.al.picUrl,i,e.name,e.ar[0].name)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]):t._e()])},to=[],so={name:"TheAside",data(){return{ly:""}},computed:{...Object(l["b"])(["showAside","listOfSongs","AsidePlayList","id","userId","listIndex","isPlay"])},mounted(){let t=this;document.addEventListener("click",(function(){t.$store.commit("setShowAside",!1)}),!0)},methods:{toPlay(t,s,e,i,a){this.$store.commit("setId",t),this.getUrl(t),this.$store.commit("setPicUrl",s),this.$store.commit("setListIndex",e),this.$store.commit("setTitle",i),this.$store.commit("setArtist",a),this.getLyric(t),this.loginIn&&da(this.userId).then(s=>{console.log(s);for(let e of s.data)if(e.tid==t){this.$store.commit("setIsActive",!0);break}})},getUrl(t){vi(t).then(t=>{this.$store.commit("setUrl",t.data[0].url)}).catch(t=>{console.log(t)})},getLyric(t){gi(t).then(t=>{this.$store.commit("setLyric",t.lrc.lyric)}).catch(t=>{console.log(t)})},delAll(){window.localStorage.removeItem("AsidePlayList"),this.$store.commit("setAsidePlayList",[]),this.$store.commit("setListIndex",0),this.$store.commit("setIsPlay",!1)}}},eo=so,io=(e("bc0d"),Object(C["a"])(eo,Wa,to,!1,null,"3cf74cb0",null)),ao=io.exports,oo={name:"App",data(){return{}},components:{TheAside:ao,TheFooter:za,ScrollTop:Ma,TheHeader:wa,SongAudio:Ra,PlayBar:Ga}},no=oo,ro=(e("80b8"),Object(C["a"])(no,a,o,!1,null,"da465fd0",null)),lo=ro.exports;const co={state:{activeName:"",showAside:!1,loginIn:!1},getters:{activeName:t=>{let s=t.activeName;return s||(s=JSON.parse(window.localStorage.getItem("activeName"))),s},showAside:t=>{let s=t.showAside;return s||(s=JSON.parse(window.sessionStorage.getItem("showAside"))),s},loginIn:t=>{let s=t.loginIn;return s||(s=JSON.parse(window.sessionStorage.getItem("loginIn"))),s}},mutations:{setActiveName:(t,s)=>{t.activeName=s,window.localStorage.setItem("activeName",JSON.stringify(s))},setShowAside:(t,s)=>{t.showAside=s,window.sessionStorage.setItem("showAside",JSON.stringify(s))},setLoginIn:(t,s)=>{t.loginIn=s,window.sessionStorage.setItem("loginIn",JSON.stringify(s))}},actions:{},modules:{}};var mo=co;const uo={state:{listOfSongs:[],isPlay:!1,url:"",id:"",playButtonUrl:"icon-play",duration:0,curTime:0,changeTime:0,title:"",artist:"",picUrl:"",autoNext:!0,lyric:[],tempList:{},listIndex:null,volume:50,AsidePlayList:[],mode:0},getters:{mode:t=>{let s=t.mode;return s.length||(s=JSON.parse(window.sessionStorage.getItem("mode"))),s},listOfSongs:t=>{let s=t.listOfSongs;return s.length||(s=JSON.parse(window.sessionStorage.getItem("listOfSongs"))),s},isPlay:t=>{let s=t.isPlay;return s||(s=JSON.parse(window.sessionStorage.getItem("isPlay"))),s},id:t=>{let s=t.id;return s||(s=JSON.parse(window.sessionStorage.getItem("id"))),s},url:t=>{let s=t.url;return s||(s=JSON.parse(window.sessionStorage.getItem("url"))),s},playButtonUrl:t=>{let s=t.playButtonUrl;return s||(s=JSON.parse(window.sessionStorage.getItem("playButtonUrl")||null)),s},duration:t=>{let s=t.duration;return s||(s=JSON.parse(window.sessionStorage.getItem(" duration")||null)),s},curTime:t=>{let s=t.curTime;return s||(s=JSON.parse(window.sessionStorage.getItem(" curTime")||null)),s},changeTime:t=>{let s=t.changeTime;return s||(s=JSON.parse(window.sessionStorage.getItem("changeTime")||null)),s},title:t=>{let s=t.title;return s||(s=JSON.parse(window.sessionStorage.getItem("title")||null)),s},artist:t=>{let s=t.artist;return s||(s=JSON.parse(window.sessionStorage.getItem("artist")||null)),s},picUrl:t=>{let s=t.picUrl;return s||(s=JSON.parse(window.sessionStorage.getItem("picUrl")||null)),s},autoNext:t=>{let s=t.autoNext;return s||(s=JSON.parse(window.sessionStorage.getItem("autoNext")||null)),s},lyric:t=>{let s=t.lyric;return s||(s=JSON.parse(window.sessionStorage.getItem("lyric")||null)),s},tempList:t=>{let s=t.tempList;return s||(s=JSON.parse(window.sessionStorage.getItem("tempList")||null)),s},listIndex:t=>{let s=t.listIndex;return s||(s=JSON.parse(window.sessionStorage.getItem("listIndex")||null)),s},volume:t=>{let s=t.volume;return s||(s=JSON.parse(window.sessionStorage.getItem("volume"))),s},AsidePlayList:t=>{let s=t.AsidePlayList;return s||(s=JSON.parse(window.localStorage.getItem("AsidePlayList"))),s}},mutations:{setListOfSongs:(t,s)=>{t.listOfSongs=s,window.sessionStorage.setItem("listOfSongs",JSON.stringify(s))},setIsPlay:(t,s)=>{t.isPlay=s,window.sessionStorage.setItem("isPlay",JSON.stringify(s))},setUrl:(t,s)=>{t.url=s,window.sessionStorage.setItem("url",JSON.stringify(s))},setId:(t,s)=>{t.id=s,window.sessionStorage.setItem("id",JSON.stringify(s))},setPlayButtonUrl:(t,s)=>{t.playButtonUrl=s,window.sessionStorage.setItem("playButtonUrl",JSON.stringify(s))},setDuration:(t,s)=>{t.duration=s,window.sessionStorage.setItem("duration",JSON.stringify(s))},setCurTime:(t,s)=>{t.curTime=s,window.sessionStorage.setItem("curTime",JSON.stringify(s))},setChangeTime:(t,s)=>{t.changeTime=s,window.sessionStorage.setItem("changeTime",JSON.stringify(s))},setTitle:(t,s)=>{t.title=s,window.sessionStorage.setItem("title",JSON.stringify(s))},setArtist:(t,s)=>{t.artist=s,window.sessionStorage.setItem("artist",JSON.stringify(s))},setPicUrl:(t,s)=>{t.picUrl=s,window.sessionStorage.setItem("picUrl",JSON.stringify(s))},setAutoNext:(t,s)=>{t.autoNext=s,window.sessionStorage.setItem("autoNext",JSON.stringify(s))},setLyric:(t,s)=>{t.lyric=s,window.sessionStorage.setItem("lyric",JSON.stringify(s))},setTempList:(t,s)=>{t.tempList=s,window.sessionStorage.setItem("tempList:",JSON.stringify(s))},setListIndex:(t,s)=>{t.listIndex=s,window.sessionStorage.setItem("listIndex",JSON.stringify(s))},setVolume:(t,s)=>{t.volume=s,window.sessionStorage.setItem("volume",JSON.stringify(s))},setAsidePlayList:(t,s)=>{t.AsidePlayList=s,window.localStorage.setItem("AsidePlayList",JSON.stringify(s))},setMode:(t,s)=>{t.mode=s,window.localStorage.setItem("Mode",JSON.stringify(s))}},actions:{},modules:{}};var ho=uo;const po={state:{userId:"",username:"",avator:"",isActive:!1,isActiveSong:!1,isActiveAlbum:!1,isActiveArtist:!1,isActiveCollection:!1},getters:{userId:t=>{let s=t.userId;return s||(s=JSON.parse(window.sessionStorage.getItem("userId"))),s},username:t=>{let s=t.username;return s||(s=JSON.parse(window.sessionStorage.getItem("username"))),s},avator:t=>{let s=t.avator;return s||(s=JSON.parse(window.sessionStorage.getItem("avator"))),s},isActive:t=>{let s=t.isActive;return s||(s=JSON.parse(window.sessionStorage.getItem("isActive"))),s},isActiveSong:t=>{let s=t.isActiveSong;return s||(s=JSON.parse(window.sessionStorage.getItem("isActiveSong"))),s},isActiveAlbum:t=>{let s=t.isActiveAlbum;return s||(s=JSON.parse(window.sessionStorage.getItem("isActiveAlbum"))),s},isActiveArtist:t=>{let s=t.isActiveArtist;return s||(s=JSON.parse(window.sessionStorage.getItem("isActiveArtist"))),s},isActiveCollection:t=>{let s=t.isActiveCollection;return s||(s=JSON.parse(window.sessionStorage.getItem("isActiveCollection"))),s}},mutations:{setUserId:(t,s)=>{t.userId=s,window.sessionStorage.setItem("userId",JSON.stringify(s))},setUsername:(t,s)=>{t.username=s,window.sessionStorage.setItem("username",JSON.stringify(s))},setAvator:(t,s)=>{t.avator=s,window.sessionStorage.setItem("avator",JSON.stringify(s))},setIsActive:(t,s)=>{t.isActive=s,window.sessionStorage.setItem("isActive",JSON.stringify(s))},setIsActiveSong:(t,s)=>{t.isActiveSong=s,window.sessionStorage.setItem("isActiveSong",JSON.stringify(s))},setIsActiveAlbum:(t,s)=>{t.isActiveAlbum=s,window.sessionStorage.setItem("isActiveAlbum",JSON.stringify(s))},setIsActiveArtist:(t,s)=>{t.isActiveArtist=s,window.sessionStorage.setItem("isActiveArtist",JSON.stringify(s))},setIsActiveCollection:(t,s)=>{t.isActiveCollection=s,window.sessionStorage.setItem("isActiveCollection",JSON.stringify(s))}},actions:{},modules:{}};var go=po;i["default"].use(l["a"]);var vo=new l["a"].Store({modules:{configer:mo,song:ho,user:go}}),fo=(e("9536"),e("5c96")),yo=e.n(fo);e("0fae"),e("3c5a"),e("82da");i["default"].directive("clickoutside",{bind(t,s,e){function i(e){if(t.contains(e.target))return!1;s.expression&&s.value(e)}t.__vueClickOutside__=i,document.addEventListener("click",i)},update(){},unbind(t,s){document.removeEventListener("click",t.__vueClickOutside__),delete t.__vueClickOutside__}}),i["default"].directive("focus",{bind(t,s){console.log("bind")},inserted(t,s){console.log("inserted"),console.log(t),console.log(s),t.focus()},update(){console.log("update")}});var bo=e("c1df"),_o=e.n(bo);_o.a.locale("zh-cn"),i["default"].prototype.$moment=_o.a,i["default"].use(yo.a),i["default"].config.productionTip=!1,new i["default"]({router:mi,store:vo,render:t=>t(lo)}).$mount("#app")},5707:function(t,s,e){"use strict";e("43db")},5821:function(t,s,e){"use strict";e("1c05")},"584e":function(t,s,e){"use strict";e("95ee")},"59f2":function(t,s,e){"use strict";e("cf76")},"5eb3":function(t,s,e){"use strict";e("9cc0")},"5f80":function(t,s,e){"use strict";e("3b3b")},"5fa7":function(t,s,e){},"63ec1":function(t,s,e){},"6a83":function(t,s,e){"use strict";e("e749")},"723d":function(t,s,e){(function(){"use strict";let t=null;t="undefined"===typeof window.videojs?e("f0e2").default:window.videojs,function(t,s){const e={},i=s.getComponent("MenuItem"),a=s.extend(i,{constructor(t,a){var o;a.selected=a.val===e.val,a.selectable=!0,o=i.call(this,t,a)||this,o.label=a.label,o.val=a.val,t.on("qualityChange",s.bind(o,o.update))},handleClick(t){i.prototype.handleClick.call(this,t),e.label=this.options_.label,e.val=this.options_.val,this.player_.quality=e,this.player_.trigger("qualityChange"),this.player_.trigger("updateLabel")},update(){this.selected(this.options_.val===e.val)}}),o=s.getComponent("MenuButton"),n=s.getComponent("Menu"),r=s.extend(o,{constructor(t,i){this.opt=i.playerOptions,e.label=this.opt.qualityType[this.opt.quality.br],e.val=this.opt.quality.br,o.call(this,t,e),t.on("updateLabel",s.bind(this,this.updateLabel))},createEl(){const t=o.prototype.createEl.call(this);return this.labelEl_=s.createEl("div",{className:"vjs-quality-value",innerHTML:this.opt.qualityType[this.opt.quality.br]}),t.appendChild(this.labelEl_),t},createMenu(){const t=new n(this.player()),s=this.opt.qualityList;if(s.length){s.sort((function(t,s){return t.br-s.br}));for(var e=s.length-1;e>=0;e--)t.addChild(new a(this.player(),{label:this.opt.qualityType[s[e].br],val:s[e].br}))}return t},updateLabel(){this.labelEl_.innerHTML=e.label},buildWrapperCSSClass(){return"vjs-quality "+o.prototype.buildWrapperCSSClass.call(this)}});s.registerComponent("qualityButton",r)}(window,t)})()},"7a04":function(t,s,e){"use strict";e("8380")},"7d5a":function(t,s,e){"use strict";e("aedf")},"80b8":function(t,s,e){"use strict";e("a93d")},"82da":function(t,s,e){},8380:function(t,s,e){},8473:function(t,s,e){},"87d6":function(t,s,e){"use strict";e("a8d2")},"8eee":function(t,s,e){},"8fb9":function(t,s,e){"use strict";e("16b5")},9481:function(t,s,e){"use strict";e("1048")},9536:function(t,s,e){},9539:function(t,s,e){},"95ee":function(t,s,e){},9711:function(t,s,e){"use strict";e("119e")},"9b4b":function(t,s,e){},"9cc0":function(t,s,e){},"9e7c":function(t,s,e){"use strict";e("8eee")},"9f9c":function(t,s,e){},a8d2:function(t,s,e){},a93d:function(t,s,e){},a99f:function(t,s,e){"use strict";e("37d9")},aa0a:function(t,s,e){},ae01:function(t,s,e){},aedb:function(t,s,e){"use strict";e("1be9")},aedf:function(t,s,e){},af73:function(t,s,e){"use strict";e("521c")},b393:function(t,s,e){},bc0d:function(t,s,e){"use strict";e("b393")},be48:function(t,s,e){},c3c7:function(t,s,e){},c54c:function(t,s,e){},c67e:function(t,s,e){"use strict";e("194f")},c99e:function(t,s,e){},c9ec:function(t,s,e){"use strict";e("be48")},cf76:function(t,s,e){},d11f:function(t,s,e){"use strict";e("2db3")},d7ca:function(t,s,e){"use strict";e("8473")},d858:function(t,s,e){},d8a1:function(t,s,e){t.exports=e.p+"assets/img/elemuic.005c0c38.jpg"},ddeb:function(t,s,e){"use strict";e("63ec1")},de37:function(t,s,e){t.exports=e.p+"assets/img/user.0969eb5a.jpg"},e16f:function(t,s,e){"use strict";e("9f9c")},e341:function(t,s,e){"use strict";e("1bee")},e69b:function(t,s,e){"use strict";e("9b4b")},e749:function(t,s,e){},ea02:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAB4CAMAAADSQ7LXAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAnBQTFRFAAAABgYGz8/P5ubm4eHh7Ozs9fX19fX17+/v4eHh5eXl4ODg5OTk4uLi9/f3/////f395+fn5OTkz8/P2dnZ2tra9/f39/f39fX13t7e5OTk3t7e4ODg7+/v7Ozs5OTk3Nzc09PT8PDw9PT08fHx3d3d4eHh+fn57+/v0tLS0dHR+vr62NjYra2tx8fH5+fnwcHBysrKAAAAycnJurq65eXl7+/vwcHBzMzMDQ0NSEhItra2wMDA4uLi5OTkzMzMzMzMtra21dXV6+vr7e3t3NzcwsLCgICAAAAAAAAAjY2N2tra4uLioKCgAAAA3t7e4+Pj4uLi5eXl4+Pj5eXl5eXl5ubm5+fn5eXl5ubm5eXl5eXl5ubm6urq4+Pj7Ozs6enp7Ozs5OTk8/Pz6+vr4eHh9/f37e3t5+fn7Ozs4eHh7Ozs7+/v5ubm4uLi7e3t4ODg8vLy7u7u4+Pj6urq4eHh7Ozs6enp7Ozs8PDw7Ozs4ODg////6+vr4+Pj4eHh4ODg7Ozs6urq7Ozs8PDw5eXl////39/f7e3t5OTk8PDw39/f7e3t6enp8/Pz7u7u39/f7e3t4eHh5+fn4eHh6+vr6+vr5ubm5ubmAAAA39/fAAAA1tbW4ODg2dnZAAAAxcXF1NTUzMzMIyMjz8/PWVlZAAAAAAAAn5+fvb29AAAAAAAAioqKAAAAAAAAra2tAAAAAAAAAAAAd3d3oaGhAAAAFBQUZ2dn19fXjIyMExMTz8/PzMzMn5+fIiIiUVFR8/Pz+fn5fn5+xcXFysrK3t7eAAAAzMzM0dHRyMjINzc3/Pz88vLybm5uFBQUHBwcxUxxVQAAANB0Uk5TAAIQeoGxytG4iYApYo3k//GedQoog9r//4pGTpv//2pdhf///3yy/81Jlv9oH4nKiz4EUY3L3phwBw6Ond7nrYJTvf//2WkaBgkmrtUzC4vCicCIv4e/v72Rt52quZfd/yj/GovfCef/hvgg8f+ot/ITWHflz5YuN/nL6AN0/FXArhhP/n4G2I0596bDaxXqx6b1RZHZcmfLArcFlv+2EJv/vR3TKAwWUnkYG14eIYMlFChpiCs0cv+SQv//rUtC5fFbkqTDL6Gegyr+0josNruqaPMAAALuSURBVHic7dfpU9NAFABwqkFQkfVC4pFog1IvsMaLw7urEu9bEJVaFKOIJ4oHaj3wAk9ArRFqUVOlUJtqqwjetyj8S26rMKO7G53hgzMO7+sv72Xf7ksmiYj4LQxdujJMZLeo6O5Mj54GTA0xTK9YgKJ3H6ZvP4z7M3EDAIhnkQ9kBmE8mBkCAMfzPADRcUOx2sOMkQAICQnDWRBlHEHgRABYlk0wgZEEHmUcDcAYlo0HINE4FuMkY/I4EI5Ys3E8xuKE5ImTQjp5SnJKKs5pKeb0qdOmz0g3z0wS8W0R02aZZ1vgHPPceRkkzpDmL+DhwkWLU0XCphpEUVrCw6VShmjAOOQGcRkPl4tIcQ77Ch6uNBA1fEWYyRaKVTxcTddO7uRO/ue8pgMMYaYOZ0F+rQ5nQ36dDq/nLBt0OEewxtB1I+RsuXTexPGb6Zq3hZN1br2V47flUzV/O1ewg568U7Du2k3VPRy07aWvq5CT99FL70frKqLqgYPQlk1PPiRYDxdT9QgHjx6jai5q2U4vfVyw7DpB1ZOnoK2EqqdzOOsZeumzqOVzVC06D22l9OQy1HIeVS+glukDdvESJ1+ml74iWK7SR6QctVxB1eJKwaoznNfQiNCPIqJSsOiMSD4vyOV0vs5zhXSNKOHhDR3O+tPbAOq9Df5ftljo7HBUyPJNxeEgqyLdqqqqlsiO1Hnb5apxIiex5LxT43LdvYecwIrqvo8+etkHtSopXVE9dWGudxLZ6a0TOE546NMknB2S5n8kFxTIjwO1BFbU+uCTpygagl5CdUXzPWtobGpqfP4i4MbTVc/LVz8+uF+/qcfX7vS+BT+j2qdhrPnftbE9gK9dC7Tz+w/4zX9hvLW/ZzupuP8jMAmhXxG0NAL7PgHWBoAFArsfZ6e3nTMJh6J6PrdxKeFIJe1LWbMJAFPz129ufFPRsHhbgq2twRZvLenEFFVze1C4NZUwjA40qZKKQpIU8qiiK1A4KI9BB+I7bn8y/mK7Kg0AAAAASUVORK5CYII="},f1d2:function(t,s,e){},f25d:function(t,s,e){"use strict";e("c99e")},f561:function(t,s,e){"use strict";e("5fa7")}});
//# sourceMappingURL=app.7e3e6c8b.js.map